{"version":3,"sources":["assets/js/scripts.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["window","mr","$","document","components","documentReady","documentReadyDeferred","windowLoad","windowLoadDeferred","status","documentReadyRan","windowLoadPending","ready","on","context","undefined","concat","forEach","component","setContext","contextSelector","selector","find","jQuery","util","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","today","Date","year","getFullYear","text","each","$el","attr","removeAttr","getURLParameter","name","decodeURIComponent","RegExp","exec","location","search","replace","capitaliseFirstLetter","string","charAt","toUpperCase","slice","slugify","spacesOnly","toLowerCase","sortChildrenByText","parentElement","reverse","$parentElement","items","children","get","order","order2","sort","a","b","keyA","keyB","empty","i","itm","append","idleSrc","elems","is","index","elem","currentSrc","dataSrc","activateIdleSrc","pauseVideo","video","playingVideo","pause","parsePixels","windowHeight","height","value","test","parseInt","removeHash","history","pushState","title","pathname","push","width","scroll","raf","listeners","busy","y","x","off","evt","update","stopPropagation","event","parallax","mr_parallax","mr_getScrollPosition","pageYOffset","mr_parallaxBackground","length","l","classModifiers","rules","parseScrollRules","element","split","rule","ruleComponents","scrollPoint","ruleObject","toggleClass","hasClass","currentScroll","scrollRules","currentRule","classList","add","remove","fixedElementSizes","css","parent","outerWidth","outerHeight","console","log","accordions","activatePanel","accordion","minHeight","hash","match","activatePanelById","panel","forceOpen","$panel","closest","li","openEvent","createEvent","closeEvent","initEvent","removeClass","trigger","dispatchEvent","wasActive","addClass","id","stop","animate","scrollTop","offset","top","alerts","backgrounds","imgSrc","bars","bar","barHeight","cookies","getItem","sKey","cookie","encodeURIComponent","setItem","sValue","vEnd","sPath","sDomain","bSecure","sExpires","constructor","Number","Infinity","String","toUTCString","removeItem","hasItem","keys","aKeys","nLen","nIdx","countdown","options","date","daysText","format","dateFormat","fallback","elapsed","strftime","datepicker","pickadate","dropdowns","done","rtl","dropdown","target","siblings","hoverDropdown","repositionDropdowns","repositionDropdownsRtl","container","containerOffset","masterOffset","menuItem","content","left","offsetRight","winWidth","leftCorrect","windowWidth","rightCorrect","forms","captcha","widgets","input","label","control","max","min","step","current","val","submit","$thisForm","$captchaDiv","$insertBefore","$column","widgetObject","$script","scriptSrc","widgetColourTheme","widgetSize","sitekey","insertBefore","parentForm","theme","size","grecaptcha","renderWidgets","e","preventDefault","returnValue","body","thisForm","formAction","submitButton","error","originalError","captchaUsed","successRedirect","formError","formSuccess","errorText","successText","indexOf","html","validateFields","fadeOut","ajax","url","crossDomain","data","serialize","method","cache","dataType","contentType","success","result","Status","msg","fadeIn","resetForm","showFormSuccess","err","message","showFormError","type","href","response","isNumeric","resetWidgets","errorObject","errorHTTP","form","originalErrorMessage","thisElement","checkbox","not","getResponse","firstError","focus","fadeOutError","wait","fadeOutSuccess","setTimeout","reset","filter","mrFormsCaptchaInit","widget","innerHTML","render","setHuman","granim","granimParent","granimID","colours","pairs","tempPair","ao","count","passes","themeDefaults","prepend","shift","states","gradients","direction","opacity","isPausedWhenNotInView","extend","granimElement","granimInstance","Granim","instagram","token","client","elementToken","elementClient","first","fn","spectragram","accessData","accessToken","clientID","feed","feedID","fetchNumber","query","maps","mapsOnPage","initAPI","init","querySelector","script","createElement","apiKey","src","className","appendChild","google","instances","mapElement","mapInstance","isDraggable","showZoomControl","zoomControlPos","latlong","latitude","substr","longitude","geocoder","Geocoder","address","map","marker","markerDefaults","mapDefaults","mapOptions","markerOptions","mapAo","markerAo","mapCreatedEvent","disableDefaultUI","draggable","scrollwheel","styles","zoom","zoomControl","JSON","parse","zoomControlOptions","position","ControlPosition","icon","mr_variant","scaledSize","Size","optimised","geocode","results","GeocoderStatus","OK","Map","setCenter","geometry","markerGeoCoder","Marker","lat","lng","center","masonry","updateFilters","masonryFilter","masonryContainer","filterValue","profileParallaxElements","isotope","masonryParent","defaultFilter","itemSelector","columnWidth","$masonry","filters","filterAllText","filtersList","masonryItem","filterString","filtersArray","tag","slug","$this","updateLayout","collection","newItems","modals","allPageModals","mainContainer","insertAfter","allModalsContainer","modal","$window","modalContent","modalWidth","modalHeight","modalInstance","detach","modalTrigger","uniqueID","targetModal","autoplayVideo","showModal","closeActiveModal","keyup","keyCode","millisecondsDelay","exitSelector","delay","modalID","pop","originalEvent","deltaY","$modal","play","newsletters","radio","$input","unwrap","wrap","before","button","prepareAjaxAction","newButton","action","notifications","notification","showNotification","notificationID","closeButton","closeNotification","notificationLink","$notification","hideDelay","navHeight","parallaxHero","parallaxHeroImage","progressHorizontal","progressBars","barObject","progress","offsetTop","easypiecharts","pies","chart","color","time","pieSize","barWidth","defaults","attributeOverrides","duration","enabled","barColor","scaleColor","lineWidth","easyPieChart","activate","pieObject","currentPie","active","pie","Math","round","enableAnimation","sliders","slider","sliderInitializer","childnum","cellSelector","cellAlign","wrapAround","pageDots","prevNextButtons","autoPlay","imagesLoaded","accessibility","rightToLeft","initialIndex","freeScroll","flickity","smoothscroll","sections","sectionObject","link","validLink","highlight","section","innerLinks","selectorHeader","speed","easing","smoothScroll","tabs","after","currentTab","tabContent","tabContentClone","clone","clickedTab","activateTab","activateTabById","tab","tabContainer","activeIndex","activeContent","iframe","radial","click","candidate","dataArray","toggleElement","typed","strings","typeSpeed","loop","showCursor","twitter","TweetConfig","handleTweets","profile","maxTweets","tweets","n","twitterFetcher","fetch","ytplayer","player","containment","mute","videoURL","startAt","YTPlayer","videoCover","playIcon","wizard","headerTag","bodyTag","transitionEffect","autoFocus","steps","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","Function","deps","cached","some","cb"],"mappings":"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","file":"scripts.66fe92b2.js","sourceRoot":"..","sourcesContent":["\nwindow.mr = window.mr || {};\n\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr = mr || {};\n\n    var components = {documentReady: [],documentReadyDeferred: [], windowLoad: [], windowLoadDeferred: []};\n\n    mr.status = {documentReadyRan: false, windowLoadPending: false};\n\n    $(document).ready(documentReady);\n    $(window).on(\"load\", windowLoad);\n\n    function documentReady(context){\n        \n        context = typeof context === typeof undefined ? $ : context;\n        components.documentReady.concat(components.documentReadyDeferred).forEach(function(component){\n            component(context);\n        });\n        mr.status.documentReadyRan = true;\n        if(mr.status.windowLoadPending){\n            windowLoad(mr.setContext());\n        }\n    }\n\n    function windowLoad(context){\n        if(mr.status.documentReadyRan){\n            mr.status.windowLoadPending = false;\n            context = typeof context === \"object\" ? $ : context;\n            components.windowLoad.concat(components.windowLoadDeferred).forEach(function(component){\n               component(context);\n            });\n        }else{\n            mr.status.windowLoadPending = true;\n        }\n    }\n\n    mr.setContext = function (contextSelector){\n        var context = $;\n        if(typeof contextSelector !== typeof undefined){\n            return function(selector){\n                return $(contextSelector).find(selector);\n            };\n        }\n        return context;\n    };\n\n    mr.components    = components;\n    mr.documentReady = documentReady;\n    mr.windowLoad    = windowLoad;\n\n    return mr;\n}(window.mr, jQuery, window, document));\n\n\n//////////////// Utility Functions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    mr.util = {};\n\n    mr.util.requestAnimationFrame    = window.requestAnimationFrame || \n                                       window.mozRequestAnimationFrame || \n                                       window.webkitRequestAnimationFrame ||\n                                       window.msRequestAnimationFrame;\n\n    mr.util.documentReady = function($){\n        var today = new Date();\n        var year = today.getFullYear();\n        $('.update-year').text(year);\n    };\n\n    mr.util.windowLoad = function($){\n        $('[data-delay-src]').each(function(){\n            var $el = $(this);\n            $el.attr('src', $el.attr('data-delay-src'));\n            $el.removeAttr('data-delay-src');\n        });\n    };\n\n    mr.util.getURLParameter = function(name) {\n        return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search) || [undefined, \"\"])[1].replace(/\\+/g, '%20')) || null;\n    };\n\n\n    mr.util.capitaliseFirstLetter = function(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    mr.util.slugify = function(text, spacesOnly){\n        if(typeof spacesOnly !== typeof undefined){\n            return text.replace(/ +/g, '');\n        }else{\n            return text\n                .toLowerCase()\n                .replace(/[\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\-\\_\\=\\+\\]\\[\\}\\{\\'\\\"\\;\\\\\\:\\?\\/\\>\\<\\.\\,]+/g, '')\n                .replace(/ +/g, '-');\n        }\n    };\n\n    mr.util.sortChildrenByText = function(parentElement, reverse){\n        var $parentElement = $(parentElement);\n        var items          = $parentElement.children().get();\n        var order          = -1;\n        var order2         = 1;\n        if(typeof reverse !== typeof undefined){order = 1; order2 = -1;}\n\n        items.sort(function(a,b){\n          var keyA = $(a).text();\n          var keyB = $(b).text();\n\n          if (keyA < keyB) return order;\n          if (keyA > keyB) return order2;\n          return 0;\n        });\n        \n        // Append back into place\n        $parentElement.empty();\n        $(items).each(function(i, itm){\n          $parentElement.append(itm);\n        });\n    };\n    \n    // Set data-src attribute of element from src to be restored later\n    mr.util.idleSrc = function(context, selector){\n        \n            selector  = (typeof selector !== typeof undefined) ? selector : '';\n            var elems = context.is(selector+'[src]') ? context : context.find(selector+'[src]');\n\n        elems.each(function(index, elem){\n            elem           = $(elem);\n            var currentSrc = elem.attr('src'),\n                dataSrc    = elem.attr('data-src');\n\n            // If there is no data-src, save current source to it\n            if(typeof dataSrc === typeof undefined){\n                elem.attr('data-src', currentSrc);\n            }\n\n            // Clear the src attribute\n            elem.attr('src', '');    \n            \n        });\n    };\n\n    // Set src attribute of element from its data-src where it was temporarily stored earlier\n    mr.util.activateIdleSrc = function(context, selector){\n        \n        selector     = (typeof selector !== typeof undefined) ? selector : '';\n        var elems    = context.is(selector+'[data-src]') ? context : context.find(selector+'[data-src]');\n\n        elems.each(function(index, elem){\n            elem = $(elem);\n            var dataSrc    = elem.attr('data-src');\n\n            // Write the 'src' attribute using the 'data-src' value\n            elem.attr('src', dataSrc);\n        });\n    };\n\n    mr.util.pauseVideo = function(context){\n        var elems = context.is('video') ? context : context.find('video');\n\n        elems.each(function(index, video){\n            var playingVideo = $(video).get(0);\n            playingVideo.pause();\n        });\n    };\n\n    // Take a text value in either px (eg. 150px) or vh (eg. 65vh) and return a number in pixels.\n    mr.util.parsePixels = function(text){\n        var windowHeight = $(window).height(), value;\n        \n        // Text text against regular expression for px value.\n        if(/^[1-9]{1}[0-9]*[p][x]$/.test(text)){\n            return parseInt(text.replace('px', ''),10);\n        }\n        // Otherwise it is vh value.\n        else if(/^[1-9]{1}[0-9]*[v][h]$/.test(text)){\n            value = parseInt(text.replace('vh', ''),10);\n            // Return conversion to percentage of window height.\n            return windowHeight * (value/100);\n        }else{\n            // If it is not proper text, return -1 to indicate bad value.\n            return -1;\n        }\n    };\n\n    mr.util.removeHash = function() { \n        // Removes hash from URL bar without reloading and without losing search query\n        history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n    }\n\n    mr.components.documentReady.push(mr.util.documentReady);\n    mr.components.windowLoad.push(mr.util.windowLoad);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Window Functions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.window = {};\n    mr.window.height = $(window).height();\n    mr.window.width = $(window).width();\n\n    $(window).on('resize',function(){\n        mr.window.height = $(window).height();\n        mr.window.width = $(window).width();\n    });\n\n    return mr;\n}(mr, jQuery, window, document));\n\n\n//////////////// Scroll Functions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    \n    mr.scroll           = {};\n    var raf             = window.requestAnimationFrame || \n                          window.mozRequestAnimationFrame || \n                          window.webkitRequestAnimationFrame ||\n                          window.msRequestAnimationFrame;\n    mr.scroll.listeners = [];\n    mr.scroll.busy      = false;\n    mr.scroll.y         = 0;\n    mr.scroll.x         = 0;\n    \n    var documentReady = function($){\n\n        //////////////// Capture Scroll Event and fire scroll function\n        jQuery(window).off('scroll.mr');    \n        jQuery(window).on('scroll.mr', function(evt) {\n                if(mr.scroll.busy === false){\n                    \n                    mr.scroll.busy = true;\n                    raf(function(evt){  \n                        mr.scroll.update(evt);\n                    });\n                    \n                }\n                if(evt.stopPropagation){\n                    evt.stopPropagation();\n                }\n        });\n        \n    };\n\n    mr.scroll.update = function(event){\n        \n        // Loop through all mr scroll listeners\n        var parallax = typeof window.mr_parallax !== typeof undefined ? true : false;\n        mr.scroll.y = (parallax ? mr_parallax.mr_getScrollPosition() : window.pageYOffset);\n        mr.scroll.busy = false;\n        if(parallax){\n            mr_parallax.mr_parallaxBackground();\n        }\n\n\n        if(mr.scroll.listeners.length > 0){\n            for (var i = 0, l = mr.scroll.listeners.length; i < l; i++) {\n               mr.scroll.listeners[i](event);\n            }\n        }\n        \n    };\n\n    mr.scroll.documentReady = documentReady;\n\n    mr.components.documentReady.push(documentReady);\n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Scroll Class Modifier\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.scroll.classModifiers = {};\n    // Globally accessible list of elements/rules\n    mr.scroll.classModifiers.rules = [];\n\n    mr.scroll.classModifiers.parseScrollRules = function(element){\n        var text  = element.attr('data-scroll-class'),\n            rules = text.split(\";\");\n\n        rules.forEach(function(rule){\n            var ruleComponents, scrollPoint, ruleObject = {};\n            ruleComponents = rule.replace(/\\s/g, \"\").split(':');\n            if(ruleComponents.length === 2){\n                scrollPoint = mr.util.parsePixels(ruleComponents[0]);\n                if(scrollPoint > -1){\n                    ruleObject.scrollPoint = scrollPoint;\n                    if(ruleComponents[1].length){\n                        var toggleClass = ruleComponents[1];\n                        ruleObject.toggleClass = toggleClass;\n                        // Set variable in object to indicate that element already has class applied\n                        ruleObject.hasClass = element.hasClass(toggleClass);\n                        ruleObject.element = element.get(0);\n                        mr.scroll.classModifiers.rules.push(ruleObject);\n                    }else{\n                        // Error: toggleClass component does not exist.\n                        //console.log('Error - toggle class not found.');\n                        return false;\n                    }\n                }else{\n                    // Error: scrollpoint component was malformed\n                    //console.log('Error - Scrollpoint not found.');\n                    return false;\n                }\n            }   \n        });\n        \n        if(mr.scroll.classModifiers.rules.length){\n            return true;\n        }else{\n            return false;\n        }\n    };\n\n    mr.scroll.classModifiers.update = function(event){\n        var currentScroll = mr.scroll.y,\n            scrollRules   = mr.scroll.classModifiers.rules,\n            l             = scrollRules.length,\n            currentRule;\n        \n        // Given the current scrollPoint, check for necessary changes \n        while(l--) {\n            \n            currentRule = scrollRules[l];\n            \n            if(currentScroll > currentRule.scrollPoint && !currentRule.hasClass){\n                // Set local copy and glogal copy at the same time;\n                currentRule.element.classList.add(currentRule.toggleClass);\n                currentRule.hasClass = mr.scroll.classModifiers.rules[l].hasClass = true;\n            }\n            if(currentScroll < currentRule.scrollPoint && currentRule.hasClass){\n                // Set local copy and glogal copy at the same time;\n                currentRule.element.classList.remove(currentRule.toggleClass);\n                currentRule.hasClass = mr.scroll.classModifiers.rules[l].hasClass = false;\n            }\n        }\n    };\n\n    var fixedElementSizes = function(){\n        $('.main-container [data-scroll-class*=\"pos-fixed\"]').each(function(){\n            var element = $(this);\n            element.css('max-width',element.parent().outerWidth());\n            element.parent().css('min-height',element.outerHeight());\n        });\n    };\n\n    var documentReady = function($){\n        // Collect info on all elements that require class modification at load time\n        // Each element has data-scroll-class with a formatted value to represent class to add/remove at a particular scroll point.\n        $('[data-scroll-class]').each(function(){\n            var element  = $(this);\n                \n            // Test the rules to be added to an array of rules.\n            if(!mr.scroll.classModifiers.parseScrollRules(element)){\n                console.log('Error parsing scroll rules on: '+element);\n            }\n        });\n\n        // For 'position fixed' elements, give them a max-width for correct fixing behaviour\n        fixedElementSizes();\n        $(window).on('resize', fixedElementSizes);\n        \n        // If there are valid scroll rules add classModifiers update function to the scroll event processing queue.\n        if(mr.scroll.classModifiers.rules.length){\n            mr.scroll.listeners.push(mr.scroll.classModifiers.update);\n        }\n    };\n\n    mr.components.documentReady.push(documentReady);\n    mr.scroll.classModifiers.documentReady = documentReady;    \n\n    \n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Accordions\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.accordions = mr.accordions || {};\n    \n    mr.accordions.documentReady = function($){\n        $('.accordion__title').on('click', function(){\n            mr.accordions.activatePanel($(this));\n        });\n\n        $('.accordion').each(function(){\n            var accordion = $(this);\n            var minHeight = accordion.outerHeight(true);\n            accordion.css('min-height',minHeight);\n        });\n\n        if(window.location.hash !== '' && window.location.hash !== '#' && window.location.hash.match(/#\\/.*/) === null){\n            if($('.accordion > li > .accordion__title'+window.location.hash).length){\n                 mr.accordions.activatePanelById(window.location.hash, true);\n            }\n        }\n\n        jQuery(document).on('click', 'a[href^=\"#\"]:not(a[href=\"#\"])', function(){\n             \n             if($('.accordion > li > .accordion__title'+$(this).attr('href')).length){\n                mr.accordions.activatePanelById($(this).attr('href'), true);\n             }\n        });\n    };\n\n    \n\n    mr.accordions.activatePanel = function(panel, forceOpen){\n        \n        var $panel    = $(panel),\n            accordion = $panel.closest('.accordion'),\n            li        = $panel.closest('li'),\n            openEvent = document.createEvent('Event'),\n            closeEvent = document.createEvent('Event');\n            \n            openEvent.initEvent('panelOpened.accordions.mr', true, true);\n            closeEvent.initEvent('panelClosed.accordions.mr', true, true);\n        \n\n\n        if(li.hasClass('active')){\n            \n            if(forceOpen !== true){\n                \n                li.removeClass('active');\n                $panel.trigger('panelClosed.accordions.mr').get(0).dispatchEvent(closeEvent);\n            }\n        }else{\n            \n            if(accordion.hasClass('accordion--oneopen')){\n                \n                var wasActive = accordion.find('li.active');\n                if(wasActive.length){\n                    wasActive.removeClass('active');\n                    wasActive.trigger('panelClosed.accordions.mr').get(0).dispatchEvent(closeEvent);\n                }\n                li.addClass('active');\n                li.trigger('panelOpened.accordions.mr').get(0).dispatchEvent(openEvent);\n                \n            }else{\n                \n                if(!li.is('.active')){\n                    li.trigger('panelOpened.accordions.mr').get(0).dispatchEvent(openEvent);\n                }\n                li.addClass('active');\n            }\n        }\n    };\n\n    mr.accordions.activatePanelById = function(id, forceOpen){\n        var panel;\n       \n        if(id !== '' && id !== '#' && id.match(/#\\/.*/) === null){\n            panel = $('.accordion > li > .accordion__title#'+id.replace('#', ''));\n            if(panel.length){\n                $('html, body').stop(true).animate({\n                    scrollTop: (panel.offset().top - 50)\n                }, 1200);\n                \n                mr.accordions.activatePanel(panel, forceOpen);\n            }\n        }\n    };\n\n    mr.components.documentReady.push(mr.accordions.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Alerts\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.alerts = mr.alerts || {};\n    \n    mr.alerts.documentReady = function($){\n        $('.alert__close').on('click touchstart', function(){\n            jQuery(this).closest('.alert').addClass('alert--dismissed');\n        });\n    };\n\n    mr.components.documentReady.push(mr.alerts.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Backgrounds\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.backgrounds = mr.backgrounds || {};\n    \n    mr.backgrounds.documentReady = function($){\n        \n        //////////////// Append .background-image-holder <img>'s as CSS backgrounds\n\n\t    $('.background-image-holder').each(function() {\n\t        var imgSrc = $(this).children('img').attr('src');\n\t        $(this).css('background', 'url(\"' + imgSrc + '\")').css('background-position', 'initial').css('opacity','1');\n\t    });\n    };\n\n    mr.components.documentReady.push(mr.backgrounds.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Bars\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.bars = mr.bars || {};\n    \n    mr.bars.documentReady = function($){\n        $('.nav-container .bar[data-scroll-class*=\"fixed\"]:not(.bar--absolute)').each(function(){\n            var bar = $(this),\n                barHeight = bar.outerHeight(true);\n            bar.closest('.nav-container').css('min-height',barHeight);\n        });\n    };\n\n    mr.components.documentReady.push(mr.bars.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Cookies\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.cookies = {\n\n        getItem: function (sKey) {\n            if (!sKey) { return null; }\n            return decodeURIComponent(document.cookie.replace(new RegExp(\"(?:(?:^|.*;)\\\\s*\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$\"), \"$1\")) || null;\n        },\n        setItem: function (sKey, sValue, vEnd, sPath, sDomain, bSecure) {\n            if (!sKey || /^(?:expires|max\\-age|path|domain|secure)$/i.test(sKey)) { return false; }\n                var sExpires = \"\";\n                if (vEnd) {\n                  switch (vEnd.constructor) {\n                    case Number:\n                      sExpires = vEnd === Infinity ? \"; expires=Fri, 31 Dec 9999 23:59:59 GMT\" : \"; max-age=\" + vEnd;\n                      break;\n                    case String:\n                      sExpires = \"; expires=\" + vEnd;\n                      break;\n                    case Date:\n                      sExpires = \"; expires=\" + vEnd.toUTCString();\n                      break;\n                }\n            }\n            document.cookie = encodeURIComponent(sKey) + \"=\" + encodeURIComponent(sValue) + sExpires + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\") + (bSecure ? \"; secure\" : \"\");\n            return true;\n        },\n        removeItem: function (sKey, sPath, sDomain) {\n            if (!this.hasItem(sKey)) { return false; }\n            document.cookie = encodeURIComponent(sKey) + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\" + (sDomain ? \"; domain=\" + sDomain : \"\") + (sPath ? \"; path=\" + sPath : \"\");\n            return true;\n        },\n        hasItem: function (sKey) {\n            if (!sKey) { return false; }\n            return (new RegExp(\"(?:^|;\\\\s*)\" + encodeURIComponent(sKey).replace(/[\\-\\.\\+\\*]/g, \"\\\\$&\") + \"\\\\s*\\\\=\")).test(document.cookie);\n        },\n        keys: function () {\n            var aKeys = document.cookie.replace(/((?:^|\\s*;)[^\\=]+)(?=;|$)|^\\s*|\\s*(?:\\=[^;]*)?(?:\\1|$)/g, \"\").split(/\\s*(?:\\=[^;]*)?;\\s*/);\n            for (var nLen = aKeys.length, nIdx = 0; nIdx < nLen; nIdx++) { aKeys[nIdx] = decodeURIComponent(aKeys[nIdx]); }\n            return aKeys;\n        }\n    };\n\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Countdown\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.countdown = mr.countdown || {};\n    mr.countdown.options = mr.countdown.options || {};\n\n    mr.countdown.documentReady = function($){\n\n        $('.countdown[data-date]').each(function(){\n            var element      = $(this),\n                date         = element.attr('data-date'),\n                daysText     = typeof element.attr('data-days-text') !== typeof undefined ? '%D '+element.attr('data-days-text')+' %H:%M:%S': '%D days %H:%M:%S',\n                daysText     = typeof mr.countdown.options.format !== typeof undefined ? mr.countdown.options.format : daysText,\n                dateFormat   = typeof element.attr('data-date-format') !== typeof undefined ? element.attr('data-date-format'): daysText,\n                \n                fallback;\n\n            if(typeof element.attr('data-date-fallback') !== typeof undefined){\n                fallback = element.attr('data-date-fallback') || \"Timer Done\";\n            }\n\n            element.countdown(date, function(event) {\n                if(event.elapsed){\n                    element.text(fallback);\n                }else{\n                    element.text(\n                      event.strftime(dateFormat)\n                    );\n                }\n            });\n        });\n        \n    };\n\n    mr.components.documentReadyDeferred.push(mr.countdown.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Datepicker\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.datepicker = mr.datepicker || {};\n\n    var options = mr.datepicker.options || {};\n    \n    mr.datepicker.documentReady = function($){\n        if($('.datepicker').length){\n            $('.datepicker').pickadate(options);\n        }\n    };\n\n    mr.components.documentReadyDeferred.push(mr.datepicker.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Dropdowns\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.dropdowns = mr.dropdowns || {};\n\n    mr.dropdowns.done = false;\n    \n    mr.dropdowns.documentReady = function($){\n\n        var rtl = false;\n\n        if($('html[dir=\"rtl\"]').length){\n            rtl = true;\n        }\n\n        if(!mr.dropdowns.done){\n            jQuery(document).on('click','body:not(.dropdowns--hover) .dropdown, body.dropdowns--hover .dropdown.dropdown--click',function(event){\n                var dropdown = jQuery(this);\n                if(jQuery(event.target).is('.dropdown--active > .dropdown__trigger')){\n                    dropdown.siblings().removeClass('dropdown--active').find('.dropdown').removeClass('dropdown--active');\n                    dropdown.toggleClass('dropdown--active');\n                }else{\n                    $('.dropdown--active').removeClass('dropdown--active');\n                    dropdown.addClass('dropdown--active');\n                }\n            });\n            jQuery(document).on('click touchstart', 'body:not(.dropdowns--hover)', function(event){\n                if(!jQuery(event.target).is('[class*=\"dropdown\"], [class*=\"dropdown\"] *')){\n                    $('.dropdown--active').removeClass('dropdown--active');\n                }\n            });\n            jQuery('body.dropdowns--hover .dropdown').on('click', function(event){\n                event.stopPropagation();\n                var hoverDropdown = jQuery(this);\n                hoverDropdown.toggleClass('dropdown--active');\n            });\n\n            // Append a container to the body for measuring purposes\n            jQuery('body').append('<div class=\"container containerMeasure\" style=\"opacity:0;pointer-events:none;\"></div>');\n\n            \n        \n\n            // Menu dropdown positioning\n            if(rtl === false){\n                mr.dropdowns.repositionDropdowns($);\n                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdowns($);});\n            }else{\n                mr.dropdowns.repositionDropdownsRtl($);\n                jQuery(window).on('resize', function(){mr.dropdowns.repositionDropdownsRtl($);});\n            }\n\n            mr.dropdowns.done = true;\n        }\n    };\n\n    mr.dropdowns.repositionDropdowns = function($){\n        $('.dropdown__container').each(function(){\n            var container, containerOffset, masterOffset, menuItem, content;\n\n                jQuery(this).css('left', '');\n\n                container       = jQuery(this);  \n                containerOffset = container.offset().left;\n                masterOffset    = jQuery('.containerMeasure').offset().left;\n                menuItem        = container.closest('.dropdown').offset().left;\n                content         = null;\n                \n                container.css('left',((-containerOffset)+(masterOffset)));\n\n                if(container.find('.dropdown__content:not([class*=\"lg-12\"])').length){\n                    content = container.find('.dropdown__content');\n                    content.css('left', ((menuItem)-(masterOffset)));\n                }\n                \n        });\n        $('.dropdown__content').each(function(){\n            var dropdown, offset, width, offsetRight, winWidth, leftCorrect;\n\n                dropdown    = jQuery(this);\n                offset      = dropdown.offset().left;\n                width       = dropdown.outerWidth(true);\n                offsetRight = offset + width;\n                winWidth    = jQuery(window).outerWidth(true);\n                leftCorrect = jQuery('.containerMeasure').outerWidth() - width;\n\n            if(offsetRight > winWidth){\n                dropdown.css('left', leftCorrect);\n            }\n\n        });\n    };\n\n    mr.dropdowns.repositionDropdownsRtl = function($){\n\n        var windowWidth = jQuery(window).width();\n\n        $('.dropdown__container').each(function(){\n            var container, containerOffset, masterOffset, menuItem, content;\n \n                jQuery(this).css('left', '');\n\n                container   = jQuery(this);\n                containerOffset = windowWidth - (container.offset().left + container.outerWidth(true));\n                masterOffset    = jQuery('.containerMeasure').offset().left;\n                menuItem        = windowWidth - (container.closest('.dropdown').offset().left + container.closest('.dropdown').outerWidth(true));\n                content         = null;\n                \n                container.css('right',((-containerOffset)+(masterOffset)));\n\n                if(container.find('.dropdown__content:not([class*=\"lg-12\"])').length){\n                    content = container.find('.dropdown__content');\n                    content.css('right', ((menuItem)-(masterOffset)));\n                }\n        });\n        $('.dropdown__content').each(function(){\n            var dropdown, offset, width, offsetRight, winWidth, rightCorrect;\n\n                dropdown    = jQuery(this);\n                offset      = windowWidth - (dropdown.offset().left + dropdown.outerWidth(true));\n                width       = dropdown.outerWidth(true);\n                offsetRight = offset + width;\n                winWidth    = jQuery(window).outerWidth(true);\n                rightCorrect = jQuery('.containerMeasure').outerWidth() - width;\n\n            if(offsetRight > winWidth){\n               dropdown.css('right', rightCorrect);\n            }\n\n        });\n    };\n    \n\n    mr.components.documentReady.push(mr.dropdowns.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Forms\n\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.forms                 = mr.forms || {};\n    mr.forms.captcha         = {};\n    mr.forms.captcha.widgets = [];\n    mr.forms.captcha.done    = false;\n\n    mr.forms.documentReady = function($){\n\n        mr.forms.captcha.widgets = [];\n\n        /// Checkbox & Radio Inputs\n\n        $('.input-checkbox input[type=\"checkbox\"], .input-radio input[type=\"radio\"]').each(function(index){\n            var input = $(this),\n                label = input.siblings('label'),\n                id    = \"input-assigned-\"+index;\n            if(typeof input.attr('id') === typeof undefined || input.attr('id') === \"\"){\n                input.attr('id',id);\n                label.attr('for',id);\n            }else{\n                id = input.attr('id');\n                label.attr('for',id);\n            }\n        });\n\n        //////////////// Number Inputs\n\n        $('.input-number__controls > span').off('click.mr').on('click.mr',function(){\n            var control = jQuery(this),\n                parent   = control.closest('.input-number'),\n                input    = parent.find('input[type=\"number\"]'),\n                max      = input.attr('max'),\n                min      = input.attr('min'),\n                step     = 1,\n                current  = parseInt(input.val(),10);\n\n            if(parent.is('[data-step]')){\n                step = parseInt(parent.attr('data-step'),10);\n            }\n\n            if(control.hasClass('input-number__increase')){\n                if((current+step) <= max){\n                    input.val(current+step);\n                }\n            }else{\n                if((current-step) >= min){\n                    input.val(current-step);\n                }\n            }\n        });\n\n\n        //////////////// File Uploads\n\n        $('.input-file .btn').off('click.mr').on('click.mr',function(){\n            $(this).siblings('input').trigger('click');\n            return false;\n        });\n        \n        //////////////// Handle Form Submit\n\n        $('form.form-email, form[action*=\"list-manage.com\"], form[action*=\"createsend.com\"]').attr('novalidate', true).off('submit').on('submit', mr.forms.submit);\n\n        //////////////// Handle Form Submit\n        $(document).on('change, input, paste, keyup', '.attempted-submit .field-error', function(){\n            $(this).removeClass('field-error');\n        });\n\n         //////////////// Check forms for Google reCaptcha site keys\n\n        $('form[data-recaptcha-sitekey]:not([data-recaptcha-sitekey=\"\"])').each(function(){\n            var $thisForm    = jQuery(this),\n                $captchaDiv  = $thisForm.find('div.recaptcha'),\n                $insertBefore, $column, widgetObject,  $script, scriptSrc, widgetColourTheme, widgetSize;\n\n            widgetColourTheme = $thisForm.attr('data-recaptcha-theme');\n            widgetColourTheme = typeof widgetColourTheme !== typeof undefined ? widgetColourTheme : '';\n\n            widgetSize = $thisForm.attr('data-recaptcha-size');\n            widgetSize = typeof widgetSize !== typeof undefined ? widgetSize : '';\n\n            // Store the site key for later use\n            mr.forms.captcha.sitekey = $thisForm.attr('data-recaptcha-sitekey');\n\n            if($captchaDiv.length){\n                // If a div.recaptcha was already present on this form, do nothing at this stage,\n                // It will be populated with a captcha widget later.\n            }else{\n                // Create a captcha div and insert it before the submit button.\n                $insertBefore = $thisForm.find('button[type=submit]').closest('[class*=\"col-\"]');\n                $captchaDiv   = jQuery('<div>').addClass('recaptcha');\n                $column       = jQuery('<div>').addClass('col-12').append($captchaDiv);\n                $column.insertBefore($insertBefore);\n            }\n\n       \n            // Add the widget div to the widgets array\n            widgetObject = {\n                element:    $captchaDiv.get(0),\n                parentForm: $thisForm,\n                theme:      widgetColourTheme,\n                size:       widgetSize,\n            };\n\n          \n\n            mr.forms.captcha.widgets.push(widgetObject);\n\n            // mr.forms.captcha.done indicates whether the api script has been appended yet.\n            if(mr.forms.captcha.done === false){\n                if(!jQuery('script[src*=\"recaptcha/api.js\"]').length){\n                    $script   = jQuery('<script async defer>');\n                    scriptSrc = 'https://www.google.com/recaptcha/api.js?onload=mrFormsCaptchaInit&render=explicit';\n                    $script.attr('src', scriptSrc);\n                    jQuery('body').append($script);\n                    mr.forms.captcha.done = true;\n                }\n            }else{\n                if(typeof grecaptcha !== typeof undefined){\n                    mr.forms.captcha.renderWidgets();    \n                }\n            }\n\n        });\n\n\n    };\n    \n    mr.forms.submit = function(e){\n        // return false so form submits through jQuery rather than reloading page.\n        if (e.preventDefault) e.preventDefault();\n        else e.returnValue = false;\n\n        var body          = $('body'),\n            thisForm      = $(e.target).closest('form'),\n            formAction    = typeof thisForm.attr('action') !== typeof undefined ? thisForm.attr('action') : \"\",\n            submitButton  = thisForm.find('button[type=\"submit\"], input[type=\"submit\"]'),\n            error         = 0,\n            originalError = thisForm.attr('original-error'),\n            captchaUsed   = thisForm.find('div.recaptcha').length ? true:false,\n            successRedirect, formError, formSuccess, errorText, successText;\n\n        body.find('.form-error, .form-success').remove();\n        submitButton.attr('data-text', submitButton.text());\n        errorText = thisForm.attr('data-error') ? thisForm.attr('data-error') : \"Please fill all fields correctly\";\n        successText = thisForm.attr('data-success') ? thisForm.attr('data-success') : \"Thanks, we'll be in touch shortly\";\n        body.append('<div class=\"form-error\" style=\"display: none;\">' + errorText + '</div>');\n        body.append('<div class=\"form-success\" style=\"display: none;\">' + successText + '</div>');\n        formError = body.find('.form-error');\n        formSuccess = body.find('.form-success');\n        thisForm.addClass('attempted-submit');\n\n        // Do this if the form is intended to be submitted to MailChimp or Campaign Monitor\n        if (formAction.indexOf('createsend.com') !== -1 || formAction.indexOf('list-manage.com') !== -1 ) {\n\n            console.log('Mail list form signup detected.');\n            if (typeof originalError !== typeof undefined && originalError !== false) {\n                formError.html(originalError);\n            }\n            \n            // validateFields returns 1 on error;\n            if (mr.forms.validateFields(thisForm) !== 1) {\n               \n                thisForm.removeClass('attempted-submit');\n\n                // Hide the error if one was shown\n                formError.fadeOut(200);\n                // Create a new loading spinner in the submit button.\n                submitButton.addClass('btn--loading');\n                \n                try{\n                    $.ajax({\n                        url: thisForm.attr('action'),\n                        crossDomain: true,\n                        data: thisForm.serialize(),\n                        method: \"GET\",\n                        cache: false,\n                        dataType: 'json',\n                        contentType: 'application/json; charset=utf-8',\n                        success: function(data){\n                            // Request was a success, what was the response?\n\n                            if (data.result !== \"success\" && data.Status !== 200) {\n                                \n                                // Got an error from Mail Chimp or Campaign Monitor\n\n                                // Keep the current error text in a data attribute on the form\n                                formError.attr('original-error', formError.text());\n                                // Show the error with the returned error text.\n                                formError.html(data.msg).stop(true).fadeIn(1000);\n                                formSuccess.stop(true).fadeOut(1000);\n\n                                submitButton.removeClass('btn--loading');\n                            } else {\n                                \n                                // Got success from Mail Chimp or Campaign Monitor\n                                \n                                submitButton.removeClass('btn--loading');\n\n                                successRedirect = thisForm.attr('data-success-redirect');\n                                // For some browsers, if empty `successRedirect` is undefined; for others,\n                                // `successRedirect` is false.  Check for both.\n                                if (typeof successRedirect !== typeof undefined && successRedirect !== false && successRedirect !== \"\") {\n                                    window.location = successRedirect;\n                                }else{\n                                    mr.forms.resetForm(thisForm);\n                                    mr.forms.showFormSuccess(formSuccess, formError, 1000, 5000, 500);\n                                }\n                            }\n                        }\n                    });\n                }catch(err){\n                    // Keep the current error text in a data attribute on the form\n                    formError.attr('original-error', formError.text());\n                    // Show the error with the returned error text.\n                    formError.html(err.message);\n                    mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n\n                    submitButton.removeClass('btn--loading');\n                }\n            \n\n                \n            } else {\n                // There was a validation error - show the default form error message\n                mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n            }\n        } else {\n            // If no MailChimp or Campaign Monitor form was detected then this is treated as an email form instead.\n            if (typeof originalError !== typeof undefined && originalError !== false) {\n                formError.text(originalError);\n            }\n\n            error = mr.forms.validateFields(thisForm);\n\n            if (error === 1) {\n                mr.forms.showFormError(formSuccess, formError, 1000, 5000, 500);\n            } else {\n\n                thisForm.removeClass('attempted-submit');\n\n                // Hide the error if one was shown\n                formError.fadeOut(200);\n                \n                // Create a new loading spinner in the submit button.\n                submitButton.addClass('btn--loading');\n\n                jQuery.ajax({\n                    type: \"POST\",\n                    url: (formAction !== \"\" ? formAction : \"mail/mail.php\"),\n                    data: thisForm.serialize()+\"&url=\"+window.location.href+\"&captcha=\"+captchaUsed,\n                    success: function(response) {\n                        // Swiftmailer always sends back a number representing number of emails sent.\n                        // If this is numeric (not Swift Mailer error text) AND greater than 0 then show success message.\n\n                        submitButton.removeClass('btn--loading');\n\n                        if ($.isNumeric(response)) {\n                            if (parseInt(response,10) > 0) {\n                                // For some browsers, if empty 'successRedirect' is undefined; for others,\n                                // 'successRedirect' is false.  Check for both.\n                                successRedirect = thisForm.attr('data-success-redirect');\n                                if (typeof successRedirect !== typeof undefined && successRedirect !== false && successRedirect !== \"\") {\n                                    window.location = successRedirect;\n                                }\n\n                                mr.forms.resetForm(thisForm);\n                                mr.forms.showFormSuccess(formSuccess, formError, 1000, 5000, 500);\n                                mr.forms.captcha.resetWidgets();\n                            }\n                        }\n                        // If error text was returned, put the text in the .form-error div and show it.\n                        else {\n                            // Keep the current error text in a data attribute on the form\n                            formError.attr('original-error', formError.text());\n                            // Show the error with the returned error text.\n                            formError.text(response).stop(true).fadeIn(1000);\n                            formSuccess.stop(true).fadeOut(1000);\n                        }\n                    },\n                    error: function(errorObject, errorText, errorHTTP) {\n                        // Keep the current error text in a data attribute on the form\n                        formError.attr('original-error', formError.text());\n                        // Show the error with the returned error text.\n                        formError.text(errorHTTP).stop(true).fadeIn(1000);\n                        formSuccess.stop(true).fadeOut(1000);\n                        submitButton.removeClass('btn--loading');\n                    }\n                });\n            }\n        }\n        return false;\n    };\n    \n    mr.forms.validateFields = function(form) {\n        var body = $(body),\n            error = false,\n            originalErrorMessage,\n            name,\n            thisElement;\n\n            form = $(form);\n\n\n\n\n        form.find('.validate-required[type=\"checkbox\"]').each(function() {\n            var checkbox = $(this);\n            if (!$('[name=\"' + $(this).attr('name') + '\"]:checked').length) {\n                error = 1;\n                name = $(this).attr('data-name') ||  'check';\n                checkbox.parent().addClass('field-error');\n                //body.find('.form-error').text('Please tick at least one ' + name + ' box.');\n            }\n        });\n\n        form.find('.validate-required, .required, [required]').not('input[type=\"checkbox\"]').each(function() {\n            if ($(this).val() === '') {\n                $(this).addClass('field-error');\n                error = 1;\n            } else {\n                $(this).removeClass('field-error');\n            }\n        });\n\n        form.find('.validate-email, .email, [name*=\"cm-\"][type=\"email\"]').each(function() {\n            if (!(/(.+)@(.+){2,}\\.(.+){2,}/.test($(this).val()))) {\n                $(this).addClass('field-error');\n                error = 1;\n            } else {\n                $(this).removeClass('field-error');\n            }\n        });\n\n        form.find('.validate-number-dash').each(function() {\n            if (!(/^[0-9][0-9-]+[0-9]$/.test($(this).val()))) {\n                $(this).addClass('field-error');\n                error = 1;\n            } else {\n                $(this).removeClass('field-error');\n            }\n        });\n\n        // Validate recaptcha\n        if(form.find('div.recaptcha').length && typeof form.attr('data-recaptcha-sitekey') !== typeof undefined){\n            thisElement = $(form.find('div.recaptcha'));\n    \n            if(grecaptcha.getResponse(form.data('recaptchaWidgetID')) !== \"\"){\n                thisElement.removeClass('field-error');\n            }else{\n                thisElement.addClass('field-error');\n                error = 1;\n            }\n        }\n\n        if (!form.find('.field-error').length) {\n            body.find('.form-error').fadeOut(1000);\n        }else{\n            \n            var firstError = $(form).find('.field-error:first');\n            \n            if(firstError.length){\n                $('html, body').stop(true).animate({\n                    scrollTop: (firstError.offset().top - 100)\n                }, 1200, function(){firstError.focus();});\n            }\n        }\n\n\n\n        return error;\n    };\n\n    mr.forms.showFormSuccess = function(formSuccess, formError, fadeOutError, wait, fadeOutSuccess){\n        \n        formSuccess.stop(true).fadeIn(fadeOutError);\n\n        formError.stop(true).fadeOut(fadeOutError);\n        setTimeout(function() {\n            formSuccess.stop(true).fadeOut(fadeOutSuccess);\n        }, wait);\n    };\n\n    mr.forms.showFormError = function(formSuccess, formError, fadeOutSuccess, wait, fadeOutError){\n        \n        formError.stop(true).fadeIn(fadeOutSuccess);\n\n        formSuccess.stop(true).fadeOut(fadeOutSuccess);\n        setTimeout(function() {\n            formError.stop(true).fadeOut(fadeOutError);\n        }, wait);\n    };\n\n    // Reset form to empty/default state.\n    mr.forms.resetForm = function(form){\n        form = $(form);\n        form.get(0).reset();\n        form.find('.input-radio, .input-checkbox').removeClass('checked');\n        form.find('[data-default-value]').filter('[type=\"text\"],[type=\"number\"],[type=\"email\"],[type=\"url\"],[type=\"search\"],[type=\"tel\"]').each(function(){\n            var elem = jQuery(this);\n            elem.val(elem.attr('data-default-value'));\n        });\n\n    };\n\n    // Defined on the window scope as the recaptcha js api seems not to be able to call function in mr scope\n    window.mrFormsCaptchaInit = function(){\n        mr.forms.captcha.renderWidgets();\n    };\n\n    mr.forms.captcha.renderWidgets = function(){\n        mr.forms.captcha.widgets.forEach(function(widget){\n            if(widget.element.innerHTML.replace(/[\\s\\xA0]+/g,'') === ''){\n                widget.id = grecaptcha.render(widget.element, {\n                    'sitekey' : mr.forms.captcha.sitekey,\n                    'theme' : widget.theme,\n                    'size' : widget.size,\n                    'callback' : mr.forms.captcha.setHuman\n                });\n                widget.parentForm.data('recaptchaWidgetID', widget.id);\n            }\n        });\n    };\n\n    mr.forms.captcha.resetWidgets = function(){\n        mr.forms.captcha.widgets.forEach(function(widget){\n            grecaptcha.reset(widget.id);\n        });\n    };\n\n    mr.forms.captcha.setHuman = function(){\n        jQuery('div.recaptcha.field-error').removeClass('field-error');\n    };\n\n    mr.components.documentReadyDeferred.push(mr.forms.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Granim\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.granim = mr.granim || {};\n\n    mr.granim.documentReady = function($){\n    \t$('[data-gradient-bg]').each(function(index,element){\n    \t\tvar granimParent = $(this),\n    \t\t\tgranimID \t = 'granim-'+index+'',\n\t\t\t\tcolours \t = granimParent.attr('data-gradient-bg'),\n\t\t\t\tpairs        = [],\n\t\t\t\ttempPair     = [],\n                ao           = {},\n\t\t\t\tcount,\n\t\t\t\tpasses,\n\t\t\t\ti,\n                themeDefaults,\n                \n                options;\n\n\t\t\t// Canvas element forms the gradient background\n\t\t\tgranimParent.prepend('<canvas id=\"'+granimID+'\"></canvas>');\n\n            // Regular expression to match comma separated list of hex colour values\n            passes = /^(#[0-9|a-f|A-F]{6}){1}([ ]*,[ ]*#[0-9|a-f|A-F]{6})*$/.test(colours);\n\n            if(passes === true){\n            \tcolours = colours.replace(' ','');\n            \tcolours = colours.split(',');\n            \tcount = colours.length;\n            \t// If number of colours is odd - duplicate last colour to make even array\n            \tif(count%2 !== 0){\n            \t\tcolours.push(colours[count-1]);\n            \t}\n            \tfor(i = 0; i < (count/2); i++){\n                    tempPair = [];\n                    tempPair.push(colours.shift());\n                    tempPair.push(colours.shift());\n                    pairs.push(tempPair);\n            \t}\n                \n                // attribute overrides - allows per-gradient override of global options.\n                ao.states = {\n                    \"default-state\": {\n                        gradients: pairs\n                    }\n                }\n            }\n\n            themeDefaults = {\n                element: '#'+granimID,\n                name: 'basic-gradient',\n                direction: 'left-right',\n                opacity: [1, 1],\n                isPausedWhenNotInView: true,\n                states : {\n                    \"default-state\": {\n                        gradients: pairs\n                    }\n                }\n            };\n            \n            options = jQuery.extend({}, themeDefaults, mr.granim.options, ao);\n            $(this).data('gradientOptions', options);\n    \t\tvar granimElement = $(this);\n    \t\tvar granimInstance = new Granim(options);\n    \t});        \n    };\n\n    mr.components.documentReadyDeferred.push(mr.granim.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Instagram\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.instagram = mr.instagram || {};\n\n    mr.instagram.documentReady = function($){\n\n        var themeDefaults, options, ao = {};\n        \n        if($('.instafeed').length){\n\n            // Replace with your own Access Token and Client ID\n            var token  = '4079540202.b9b1d8a.1d13c245c68d4a17bfbff87919aaeb14',\n                client = 'b9b1d8ae049d4153b24a6332f0088686',\n                elementToken, elementClient;\n\n            if($('.instafeed[data-access-token][data-client-id]').length){\n                elementToken = $('.instafeed[data-access-token][data-client-id]').first().attr('data-access-token');\n                elementClient = $('.instafeed[data-access-token][data-client-id]').first().attr('data-client-id');\n\n                if(elementToken !== \"\"){token = elementToken;}\n                if(elementClient !== \"\"){client = elementClient;}\n            }\n\n            jQuery.fn.spectragram.accessData = {\n                accessToken: token,\n                clientID: client\n            };  \n        }\n\n        $('.instafeed').each(function(){\n            var feed   = $(this),\n                feedID = feed.attr('data-user-name'),\n                fetchNumber = 12;\n            \n            themeDefaults = {\n                query: 'mediumrarethemes',\n                max: 12\n            };\n\n            // Attribute Overrides taken from data attributes allow for per-feed customization\n            ao.max = feed.attr('data-amount')\n            ao.query = feed.attr('data-user-name');\n\n            options = jQuery.extend({}, themeDefaults, mr.instagram.options, ao);\n\n            feed.append('<ul></ul>');\n            feed.children('ul').spectragram('getUserFeed', options);\n        });\n    };\n\n    mr.components.documentReadyDeferred.push(mr.instagram.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Maps\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.maps = mr.maps || {};\n    mr.maps.options = mr.maps.options || {};\n\n    mr.maps.documentReady = function($){\n        // Interact with Map once the user has clicked (to prevent scrolling the page = zooming the map\n\n        $('.map-holder').on('click', function() {\n            $(this).addClass('interact');\n        }).removeClass('interact');\n        \n        var mapsOnPage = $('.map-container[data-maps-api-key]');\n        if(mapsOnPage.length){\n            mapsOnPage.addClass('gmaps-active');\n            mr.maps.initAPI($);\n            mr.maps.init();\n        }\n        \n    };\n\n    mr.maps.initAPI = function($){\n        // Load Google MAP API JS with callback to initialise when fully loaded\n        if(document.querySelector('[data-maps-api-key]') && !document.querySelector('.gMapsAPI')){\n            if($('[data-maps-api-key]').length){\n                var script = document.createElement('script');\n                var apiKey = $('[data-maps-api-key]:first').attr('data-maps-api-key');\n                apiKey = typeof apiKey !== typeof undefined ? apiKey : ''; \n                if(apiKey !== ''){\n                    script.type = 'text/javascript';\n                    script.src = 'https://maps.googleapis.com/maps/api/js?key='+apiKey+'&callback=mr.maps.init';\n                    script.className = 'gMapsAPI';\n                    document.body.appendChild(script);  \n                }\n            } \n        }\n    };\n\n    mr.maps.init = function(){\n        if(typeof window.google !== \"undefined\"){\n            if(typeof window.google.maps !== \"undefined\"){\n\n                mr.maps.instances = [];\n\n                \n                jQuery('.gmaps-active').each(function(){\n                    var mapElement      = this,\n                        mapInstance     = jQuery(this),\n                        isDraggable     = jQuery(document).width() > 766 ? true : false,\n                        showZoomControl = typeof mapInstance.attr('data-zoom-controls') !== typeof undefined ? true : false,\n                        zoomControlPos  = typeof mapInstance.attr('data-zoom-controls') !== typeof undefined ? mapInstance.attr('data-zoom-controls'): false,\n                        latlong         = typeof mapInstance.attr('data-latlong') !== typeof undefined ? mapInstance.attr('data-latlong') : false,\n                        latitude        = latlong ? 1 *latlong.substr(0, latlong.indexOf(',')) : false,\n                        longitude       = latlong ? 1 * latlong.substr(latlong.indexOf(\",\") + 1) : false,\n                        geocoder        = new google.maps.Geocoder(),\n                        address         = typeof mapInstance.attr('data-address') !== typeof undefined ? mapInstance.attr('data-address').split(';'): [\"\"],\n                        map, marker, markerDefaults,mapDefaults,mapOptions, markerOptions, mapAo = {}, markerAo = {}, mapCreatedEvent;\n\n                        mapCreatedEvent    = document.createEvent('Event');\n                        mapCreatedEvent.initEvent('mapCreated.maps.mr', true, true);\n\n                        \n                    \n\n                    mapDefaults = {\n                        disableDefaultUI: true,\n                        draggable: isDraggable,\n                        scrollwheel: false,\n                        styles: [{\"featureType\":\"landscape\",\"stylers\":[{\"saturation\":-100},{\"lightness\":65},{\"visibility\":\"on\"}]},{\"featureType\":\"poi\",\"stylers\":[{\"saturation\":-100},{\"lightness\":51},{\"visibility\":\"simplified\"}]},{\"featureType\":\"road.highway\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"road.arterial\",\"stylers\":[{\"saturation\":-100},{\"lightness\":30},{\"visibility\":\"on\"}]},{\"featureType\":\"road.local\",\"stylers\":[{\"saturation\":-100},{\"lightness\":40},{\"visibility\":\"on\"}]},{\"featureType\":\"transit\",\"stylers\":[{\"saturation\":-100},{\"visibility\":\"simplified\"}]},{\"featureType\":\"administrative.province\",\"stylers\":[{\"visibility\":\"off\"}]},{\"featureType\":\"water\",\"elementType\":\"labels\",\"stylers\":[{\"visibility\":\"on\"},{\"lightness\":-25},{\"saturation\":-100}]},{\"featureType\":\"water\",\"elementType\":\"geometry\",\"stylers\":[{\"hue\":\"#ffff00\"},{\"lightness\":-25},{\"saturation\":-97}]}],\n                        zoom: 17,\n                        zoomControl: false,    \n                    };\n\n                    // Attribute overrides - allows data attributes on the map to override global options\n                    mapAo.styles             = typeof mapInstance.attr('data-map-style') !== typeof undefined ? JSON.parse(mapInstance.attr('data-map-style')): undefined;\n                    mapAo.zoom               = mapInstance.attr('data-map-zoom') ? parseInt(mapInstance.attr('data-map-zoom'),10) : undefined;\n                    mapAo.zoomControlOptions = zoomControlPos !== false ? {position: google.maps.ControlPosition[zoomControlPos]} : undefined;\n\n                    markerDefaults = {\n                        icon: {url:( typeof mr_variant !== typeof undefined ? '../': '' )+'img/mapmarker.png', scaledSize: new google.maps.Size(50,50)},\n                        title: 'We Are Here',\n                        optimised: false\n                    };\n\n                    markerAo.icon = typeof mapInstance.attr('data-marker-image') !== typeof undefined ? {url: mapInstance.attr('data-marker-image'), scaledSize: new google.maps.Size(50,50)} : undefined;\n                    markerAo.title = mapInstance.attr('data-marker-title');\n\n                    mapOptions = jQuery.extend({}, mapDefaults, mr.maps.options.map, mapAo);\n                    markerOptions = jQuery.extend({}, markerDefaults, mr.maps.options.marker, markerAo);\n                    \n\n                    if(address !== undefined && address[0] !== \"\"){\n                            geocoder.geocode( { 'address': address[0].replace('[nomarker]','')}, function(results, status) {\n                                if (status === google.maps.GeocoderStatus.OK) {\n                                map = new google.maps.Map(mapElement, mapOptions);\n\n\n                                mr.maps.instances.push(map);\n                                jQuery(mapElement).trigger('mapCreated.maps.mr').get(0).dispatchEvent(mapCreatedEvent);\n                                map.setCenter(results[0].geometry.location);\n                                \n                                address.forEach(function(address){\n                                    var markerGeoCoder;\n\n                                    if(/(\\-?\\d+(\\.\\d+)?),\\s*(\\-?\\d+(\\.\\d+)?)/.test(address) ){\n                                        var latlong = address.split(','),\n                                        marker = new google.maps.Marker(jQuery.extend({}, markerOptions, {\n                                                        position: { lat: 1*latlong[0], lng: 1*latlong[1] },\n                                                        map: map,\n                                                    }));\n                                    }\n                                    else if(address.indexOf('[nomarker]') < 0){\n                                        markerGeoCoder = new google.maps.Geocoder();\n                                        markerGeoCoder.geocode( { 'address': address.replace('[nomarker]','')}, function(results, status) {\n                                            if (status === google.maps.GeocoderStatus.OK) {\n                                                marker = new google.maps.Marker(jQuery.extend({}, markerOptions, {\n                                                    map: map,\n                                                    position: results[0].geometry.location,\n                                                }));\n                                            }\n                                            else{\n                                                console.log('Map marker error: '+status);\n                                            }\n                                        });\n                                    }\n\n                                });\n                            } else {\n                                console.log('There was a problem geocoding the address.');\n                            }\n                        });\n                    }\n                    else if(typeof latitude !== typeof undefined && latitude !== \"\" && latitude !== false && typeof longitude !== typeof undefined && longitude !== \"\" && longitude !== false ){\n                        \n                        mapOptions.center   = { lat: latitude, lng: longitude};\n                        map                 = new google.maps.Map(mapElement, mapOptions); \n                        marker              = new google.maps.Marker(jQuery.extend({}, markerOptions, {\n                                                    position: { lat: latitude, lng: longitude },\n                                                    map: map }));\n                        mr.maps.instances.push(map);\n                        jQuery(mapElement).trigger('mapCreated.maps.mr').get(0).dispatchEvent(mapCreatedEvent);\n\n\n                    }\n\n                    \n\n                }); \n            }\n        }\n    };\n\n    mr.components.documentReady.push(mr.maps.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Masonry\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.masonry = mr.masonry || {};\n\n    mr.masonry.documentReady = function($){\n\n        mr.masonry.updateFilters();\n\n        $(document).on('click touchstart', '.masonry__filters li:not(.js-no-action)', function(){\n            var masonryFilter = $(this);\n            var masonryContainer = masonryFilter.closest('.masonry').find('.masonry__container');\n            var filterValue = '*';\n            if(masonryFilter.attr('data-masonry-filter') !== '*'){\n                filterValue = '.filter-'+masonryFilter.attr('data-masonry-filter');\n            }\n            masonryFilter.siblings('li').removeClass('active');\n            masonryFilter.addClass('active');\n            masonryContainer.removeClass('masonry--animate');\n            masonryContainer.on('layoutComplete',function(){\n                $(this).addClass('masonry--active');\n                if(typeof mr_parallax !== typeof undefined){\n                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);\n                }\n            });\n            masonryContainer.isotope({ filter: filterValue });\n            \n        });\n        \n    };\n\n    mr.masonry.windowLoad = function(){\n\n        $('.masonry').each(function(){\n            var masonry       = $(this).find('.masonry__container'),\n                masonryParent = $(this),\n                defaultFilter = '*',\n                themeDefaults, ao = {};\n\n            themeDefaults = {\n                itemSelector: '.masonry__item',\n                filter: '*',\n                masonry: {\n                  columnWidth: '.masonry__item'\n                }\n            };\n\n            // Check for a default filter attribute\n            if(masonryParent.is('[data-default-filter]')){\n                defaultFilter = masonryParent.attr('data-default-filter').toLowerCase();\n                defaultFilter = '.filter-'+defaultFilter;\n                masonryParent.find('li[data-masonry-filter]').removeClass('active');\n                masonryParent.find('li[data-masonry-filter=\"'+masonryParent.attr(\"data-default-filter\").toLowerCase()+'\"]').addClass('active');\n            }\n\n            // Use data attributes to override the default settings and provide a per-masonry customisation where necessary.\n            ao.filter = defaultFilter !== '*' ? defaultFilter : undefined;\n\n            masonry.on('layoutComplete',function(){\n                masonry.addClass('masonry--active');\n                if(typeof mr_parallax !== typeof undefined){\n                    setTimeout(function(){ mr_parallax.profileParallaxElements(); },100);\n                }\n            });\n\n            \n            masonry.isotope(jQuery.extend({}, themeDefaults, mr.masonry.options, ao));\n\n        });\n    };\n\n    mr.masonry.updateFilters = function(masonry){\n\n        // If no argument is supplied, just apply the update to all masonry sets on the page.\n        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';\n        \n        var $masonry = $(masonry);\n        \n        $masonry.each(function(){\n            var $masonry         = $(this),\n                masonryContainer = $masonry.find('.masonry__container'),\n                filters          = $masonry.find('.masonry__filters'),\n                // data-filter-all-text can be used to set the word for \"all\"\n                filterAllText    = typeof filters.attr('data-filter-all-text') !== typeof undefined ? filters.attr('data-filter-all-text') : \"All\",\n                filtersList;\n            \n            // Ensure we are working with a .masonry element\n            if($masonry.is('.masonry')){\n                // If a filterable masonry item exists\n                if(masonryContainer.find('.masonry__item[data-masonry-filter]').length){\n                    \n                    // Create empty ul for filters\n                    filtersList = filters.find('> ul');\n\n                    if(!filtersList.length){\n                        filtersList = filters.append('<ul></ul>').find('> ul');\n                    }\n\n                    // To avoid cases where user leave filter attribute blank\n                    // only take items that have filter attribute\n                    masonryContainer.find('.masonry__item[data-masonry-filter]').each(function(){\n                        var masonryItem  = $(this),\n                            filterString = masonryItem.attr('data-masonry-filter'),\n                            filtersArray = [];\n\n                        // If not undefined or empty\n                        if(typeof filterString !== typeof undefined && filterString !== \"\"){\n                            // Split tags from string into array \n                            filtersArray = filterString.split(',');\n                        }\n                        $(filtersArray).each(function(index, tag){\n\n                            // Slugify the tag\n\n                            var slug = mr.util.slugify(tag);\n\n                            // Add the filter class to the masonry item\n\n                            masonryItem.addClass('filter-'+slug);\n\n                            // If this tag does not appear in the list already, add it\n                            if(!filtersList.find('[data-masonry-filter=\"'+slug+'\"]').length){\n                                filtersList.append('<li data-masonry-filter=\"'+slug+'\">'+tag+'</li>');\n                                \n                            }\n                        }); \n                    });\n                    \n                    // Remove any unnused filter options in list\n                    filtersList.find('[data-masonry-filter]').each(function(){\n                        var $this  = $(this),\n                            filter = $this.text();\n                        \n                        if($(this).attr('data-masonry-filter') !== \"*\"){\n                            if(!$masonry.find('.masonry__item[data-masonry-filter*=\"'+filter+'\"]').length){\n                                $this.remove();\n                            }\n                        }\n                    });\n\n                    mr.util.sortChildrenByText($(this).find('.masonry__filters ul'));\n                    // Add a filter \"all\" option\n                    if(!filtersList.find('[data-masonry-filter=\"*\"]').length){\n                        filtersList.prepend('<li class=\"active\" data-masonry-filter=\"*\">'+filterAllText+'</li>');\n                    }\n\n                }\n                //End of \"if filterable masonry item exists\"\n            }\n            //End of \"if $masonry is .masonry\"\n        });\n\n    };\n\n    mr.masonry.updateLayout = function(masonry){\n        \n        // If no argument is supplied, just apply the update to all masonry sets on the page.\n        masonry = typeof masonry !== typeof undefined ? masonry : '.masonry';\n\n        var $masonry = $(masonry);\n        \n\n        $masonry.each(function(){\n            var collection       = $(this),\n                newItems         = collection.find('.masonry__item:not([style])'),\n                masonryContainer = collection.find('.masonry__container');\n\n            if(collection.is('.masonry')){\n                if(newItems.length){\n                    masonryContainer.isotope('appended', newItems).isotope( 'layout');\n                }\n                \n                masonryContainer.isotope('layout');\n            }\n        });\n    };\n\n    mr.components.documentReady.push(mr.masonry.documentReady);\n    mr.components.windowLoad.push(mr.masonry.windowLoad);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n\n//////////////// Modals\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.modals = mr.modals || {};\n\n    mr.modals.documentReady = function($){\n        var allPageModals = \"<div class=\\\"all-page-modals\\\"></div>\",\n            mainContainer = $('div.main-container');\n\n        if(mainContainer.length){\n            jQuery(allPageModals).insertAfter(mainContainer);\n            mr.modals.allModalsContainer = $('div.all-page-modals');\n        }\n        else{\n            jQuery('body').append(allPageModals);\n            mr.modals.allModalsContainer = jQuery('body div.all-page-modals');\n        }\n\n        $('.modal-container').each(function(){\n\n            // Add modal close if none exists\n\n            var modal        = $(this),\n                $window      = $(window),\n                modalContent = modal.find('.modal-content');\n                \n            \n            if(!modal.find('.modal-close').length){\n                modal.find('.modal-content').append('<div class=\"modal-close modal-close-cross\"></div>');\n            }\n\n            // Set modal height\n            \n            if(modalContent.attr('data-width') !== undefined){\n                var modalWidth = modalContent.attr('data-width').substr(0,modalContent.attr('data-width').indexOf('%')) * 1;\n                modalContent.css('width',modalWidth + '%');\n            }\n            if(modalContent.attr('data-height') !== undefined){\n                var modalHeight = modalContent.attr('data-height').substr(0,modalContent.attr('data-height').indexOf('%')) * 1;\n                modalContent.css('height',modalHeight + '%');\n            }\n\n            // Set iframe's src to data-src to stop autoplaying iframes\n            mr.util.idleSrc(modal, 'iframe');\n\n        });\n\n\n        $('.modal-instance').each(function(index){\n            var modalInstance = $(this);\n            var modal = modalInstance.find('.modal-container');\n            var modalContent = modalInstance.find('.modal-content');\n            var trigger = modalInstance.find('.modal-trigger');\n            \n            // Link modal with modal-id attribute\n            \n            trigger.attr('data-modal-index',index);\n            modal.attr('data-modal-index',index);\n            \n            // Set unique id for multiple triggers\n            \n            if(typeof modal.attr('data-modal-id') !== typeof undefined){\n                trigger.attr('data-modal-id', modal.attr('data-modal-id'));\n            }\n            \n\n            // Attach the modal to the body            \n            modal = modal.detach();\n            mr.modals.allModalsContainer.append(modal);\n        });\n        \n\n        $('.modal-trigger').on('click', function(){\n\n            var modalTrigger = $(this);\n            var uniqueID, targetModal;\n            // Determine if the modal id is set by user or is set programatically\n   \n            if(typeof modalTrigger.attr('data-modal-id') !== typeof undefined){\n                uniqueID = modalTrigger.attr('data-modal-id');\n                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-id=\"'+uniqueID+'\"]');    \n            }else{\n                uniqueID = $(this).attr('data-modal-index');\n                targetModal = mr.modals.allModalsContainer.find('.modal-container[data-modal-index=\"'+uniqueID+'\"]');\n            }\n            \n            mr.util.activateIdleSrc(targetModal, 'iframe');\n            mr.modals.autoplayVideo(targetModal);\n\n            mr.modals.showModal(targetModal);\n\n            return false;\n        });\n\n        jQuery(document).on('click', '.modal-close', mr.modals.closeActiveModal);\n\n        jQuery(document).keyup(function(e) {\n            if (e.keyCode === 27) { // escape key maps to keycode `27`\n                mr.modals.closeActiveModal();\n            }\n        });\n\n        $('.modal-container:not(.modal--prevent-close)').on('click', function(e) { \n            if( e.target !== this ) return;\n            mr.modals.closeActiveModal();\n        });\n\n        // Trigger autoshow modals\n        $('.modal-container[data-autoshow]').each(function(){\n            var modal = $(this);\n            var millisecondsDelay = modal.attr('data-autoshow')*1;\n\n            mr.util.activateIdleSrc(modal);\n            mr.modals.autoplayVideo(modal);\n\n            // If this modal has a cookie attribute, check to see if a cookie is set, and if so, don't show it.\n            if(typeof modal.attr('data-cookie') !== typeof undefined){\n                if(!mr.cookies.hasItem(modal.attr('data-cookie'))){\n                    mr.modals.showModal(modal, millisecondsDelay);\n                }\n            }else{\n                mr.modals.showModal(modal, millisecondsDelay);\n            }\n        });\n\n        // Exit modals\n        $('.modal-container[data-show-on-exit]').each(function(){\n            var modal        = jQuery(this),\n                exitSelector = modal.attr('data-show-on-exit'),\n                delay = 0;\n\n            if(modal.attr('data-delay')){\n                delay = parseInt(modal.attr('data-delay'), 10) || 0;  \n            } \n\n            // If a valid selector is found, attach leave event to show modal.\n            if($(exitSelector).length){\n                modal.prepend($('<i class=\"ti-close close-modal\">'));\n                jQuery(document).on('mouseleave', exitSelector, function(){\n                    if(!$('.modal-active').length){\n                        if(typeof modal.attr('data-cookie') !== typeof undefined){\n                            if(!mr.cookies.hasItem(modal.attr('data-cookie'))){\n                                mr.modals.showModal(modal, delay);\n                            }\n                        }else{\n                            mr.modals.showModal(modal, delay);\n                        }\n                    }\n                });\n            }\n        });\n\n\n        // Autoshow modal by ID from location href\n        if(window.location.href.split('#').length === 2){\n            var modalID = window.location.href.split('#').pop();\n            if($('[data-modal-id=\"'+modalID+'\"]').length){\n                mr.modals.closeActiveModal();\n                mr.modals.showModal($('[data-modal-id=\"'+modalID+'\"]'));\n            }  \n        }\n\n        jQuery(document).on('click','a[href^=\"#\"]', function(){\n            var modalID = $(this).attr('href').replace('#', '');\n            if($('[data-modal-id=\"'+modalID+'\"]').length){    \n                mr.modals.closeActiveModal();\n                setTimeout(mr.modals.showModal, 500,'[data-modal-id=\"'+modalID+'\"]', 0);\n            }\n        });\n\n        // Make modal scrollable\n        jQuery(document).on('wheel mousewheel scroll','.modal-content, .modal-content .scrollable', function(evt){\n            if(evt.preventDefault){evt.preventDefault();}\n            if(evt.stopPropagation){evt.stopPropagation();}\n            this.scrollTop += (evt.originalEvent.deltaY); \n        });\n    };\n    ////////////////\n    //////////////// End documentReady\n    ////////////////\n\n    mr.modals.showModal = function(modal, millisecondsDelay){\n        \n        var delay = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0, $modal = $(modal);\n            \n        if($modal.length){\n            setTimeout(function(){\n                var openEvent = document.createEvent('Event');\n                openEvent.initEvent('modalOpened.modals.mr', true, true);\n                $(modal).addClass('modal-active').trigger('modalOpened.modals.mr').get(0).dispatchEvent(openEvent);\n\n            },delay);\n        }\n    };\n\n    mr.modals.closeActiveModal = function(){\n        var modal      = jQuery('body div.modal-active'), \n            closeEvent = document.createEvent('Event');\n\n        mr.util.idleSrc(modal, 'iframe');\n        mr.util.pauseVideo(modal);\n\n        // If this modal requires to be closed permanently using a cookie, set the cookie now.\n        if(typeof modal.attr('data-cookie') !== typeof undefined){\n            mr.cookies.setItem(modal.attr('data-cookie'), \"true\", Infinity, '/');\n        }\n\n        if(modal.length){\n            // Remove hash from URL bar if this modal was opened via url bar ID\n            if(modal.is('[data-modal-id]') && window.location.hash === '#'+modal.attr('data-modal-id')){\n                mr.util.removeHash();\n            }\n            closeEvent.initEvent('modalClosed.modals.mr', true, true);\n            modal.removeClass('modal-active').trigger('modalClosed.modals.mr').get(0).dispatchEvent(closeEvent);\n        }\n    };\n\n    mr.modals.autoplayVideo = function(modal){\n        // If modal contains HTML5 video with autoplay, play the video\n        if(modal.find('video[autoplay]').length){\n            var video = modal.find('video').get(0);\n            video.play();\n        }\n    };\n\n    mr.components.documentReady.push(mr.modals.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Newsletter Providers\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.newsletters = mr.newsletters || {};\n\n    mr.newsletters.documentReady = function($){\n  \n  \tvar form,checkbox,label,id,parent,radio;\n    \n    // Treat Campaign Monitor forms\n    $('form[action*=\"createsend.com\"]').each(function(){\n    \tform = $(this);\n\n        // Override browser validation and allow us to use our own\n        form.attr('novalidate', 'novalidate');\n\n    \t// Give each text input a placeholder value\n\n    \tif(!form.is('.form--no-placeholders')){\n            form.find('input:not([checkbox]):not([radio])').each(function(){\n                var $input = $(this);\n                if(typeof $input.attr('placeholder') !== typeof undefined){\n                    if($input.attr('placeholder') === \"\"){\n                        if($input.siblings('label').length){\n                            $input.attr('placeholder', $input.siblings('label').first().text());\n                            if(form.is('.form--no-labels')){   \n                                $input.siblings('label').first().remove();\n                            }\n                        }\n                    }\n                }else if($input.siblings('label').length){\n                    $input.attr('placeholder', $input.siblings('label').first().text()); \n                    if(form.is('.form--no-labels')){\n                        $input.siblings('label').first().remove();\n                    }\n                }\n                if($input.parent().is('p')){\n                    $input.unwrap();\n                }\n            });\n        }else{\n            form.find('input[placeholder]').removeAttr('placeholder');\n        }\n\n\n    \t// Wrap select elements in template code\n\n    \tform.find('select').wrap('<div class=\"input-select\"></div>');\n\n    \t// Wrap radios elements in template code\n\n    \tform.find('input[type=\"radio\"]').wrap('<div class=\"input-radio\"></div>');\n\n    \t// Wrap checkbox elements in template code\n\n    \tform.find('input[type=\"checkbox\"]').each(function(){\n    \t\tcheckbox = $(this);\n    \t\tid = checkbox.attr('id');\n    \t\tlabel = form.find('label[for='+id+']');\n            if(!label.length){\n                label = $('<label for=\"'+id+'\"></label>');\n            }\n    \t\t\n    \t\tcheckbox.before('<div class=\"input-checkbox\" data-id=\"'+id+'\"></div>');\n    \t\t$('.input-checkbox[data-id=\"'+id+'\"]').prepend(checkbox);\n    \t\t$('.input-checkbox[data-id=\"'+id+'\"]').prepend(label);\n    \t});\n\n    \tform.find('button[type=\"submit\"]').each(function(){\n            var button = $(this);\n            button.addClass('btn');\n            if(button.parent().is('p')){\n                button.unwrap();\n            }\n        });\n        \n        form.find('[required]').attr('required', 'required').addClass('validate-required');\n\n        form.addClass('form--active');\n\n        mr.newsletters.prepareAjaxAction(form);\n\n\n    });\n\n    // Treat MailChimp forms\n    $('form[action*=\"list-manage.com\"]').each(function(){\n    \tform = $(this);\n\n        // Override browser validation and allow us to use our own\n        form.attr('novalidate', 'novalidate');\n\n    \t// Give each text input a placeholder value\n        if(!form.is('.form--no-placeholders')){\n        \tform.find('input:not([checkbox]):not([radio])').each(function(){\n        \t\tvar $input = $(this);\n                if(typeof $input.attr('placeholder') !== typeof undefined){\n                    if($input.attr('placeholder') === \"\"){\n                        if($input.siblings('label').length){\n                            $input.attr('placeholder', $input.siblings('label').first().text());\n                            if(form.is('.form--no-labels')){   \n                                $input.siblings('label').first().remove();\n                            }\n                        }\n                    }\n                }else if($input.siblings('label').length){\n                    $input.attr('placeholder', $input.siblings('label').first().text()); \n                    if(form.is('.form--no-labels')){\n                        $input.siblings('label').first().remove();\n                    }\n                }\n        \t});\n        }else{\n            form.find('input[placeholder]').removeAttr('placeholder');\n        }\n\n        if(form.is('.form--no-labels')){\n            form.find('input:not([checkbox]):not([radio])').each(function(){\n                var $input = $(this);\n                if($input.siblings('label').length){\n                    $input.siblings('label').first().remove();\n                }\n            });\n        }\n\n    \t// Wrap select elements in template code\n\n    \tform.find('select').wrap('<div class=\"input-select\"></div>');\n\n    \t// Wrap checboxes elements in template code\n\n    \tform.find('input[type=\"checkbox\"]').each(function(){\n    \t\tcheckbox = jQuery(this);\n    \t\tparent = checkbox.parent();\n    \t\tlabel = parent.find('label');\n            if(!label.length){\n                label = jQuery('<label>');\n            }\n    \t\tcheckbox.before('<div class=\"input-checkbox\"></div>');\n    \t\tparent.find('.input-checkbox').append(checkbox);\n    \t\tparent.find('.input-checkbox').append(label);\n    \t});\n\n    \t// Wrap radio elements in template code\n\n    \tform.find('input[type=\"radio\"]').each(function(){\n    \t\tradio = jQuery(this);\n    \t\tparent = radio.closest('li');\n    \t\tlabel = parent.find('label');\n            if(!label.length){\n                label = jQuery('<label>');\n            }\n    \t\tradio.before('<div class=\"input-radio\"></div>');\n    \t\tparent.find('.input-radio').prepend(radio);\n    \t\tparent.find('.input-radio').prepend(label);\n    \t});\n\n        // Convert MailChimp input[type=\"submit\"] to div.button\n\n        form.find('input[type=\"submit\"]').each(function(){\n            var submit = $(this);\n            \n            var newButton = jQuery('<button/>').attr('type','submit').attr('class', submit.attr('class')).addClass('btn').text(submit.attr('value'));\n            \n            if(submit.parent().is('div.clear')){\n                submit.unwrap();\n            }\n\n            newButton.insertBefore(submit);\n            submit.remove();\n        });\n\n        form.find('input').each(function(){\n            var input = $(this);\n            if(input.hasClass('required')){\n                input.removeClass('required').addClass('validate-required');\n            }\n        });\n\n        form.find('input[type=\"email\"]').removeClass('email').addClass('validate-email');\n\n        form.find('#mce-responses').remove();\n\n        form.find('.mc-field-group').each(function(){\n            $(this).children().first().unwrap();\n        });\n\n        form.find('[required]').attr('required', 'required').addClass('validate-required');\n\n        form.addClass('form--active');\n\n        mr.newsletters.prepareAjaxAction(form);\n\n    }); \n\n\t// Reinitialize the forms so interactions work as they should\n\n\tmr.forms.documentReady(mr.setContext('form.form--active'));\n\t\t\n  };\n\n  mr.newsletters.prepareAjaxAction = function(form){\n        var action = $(form).attr('action');\n\n        // Alter action for a Mail Chimp-compatible ajax request url.\n        if(/list-manage\\.com/.test(action)){\n           action = action.replace('/post?', '/post-json?') + \"&c=?\";\n           if(action.substr(0,2) === \"//\"){\n               action = 'http:' + action;\n           }\n        }\n\n        // Alter action for a Campaign Monitor-compatible ajax request url.\n        if(/createsend\\.com/.test(action)){\n           action = action + '?callback=?';\n        }\n\n        // Set action on the form\n        $(form).attr('action', action);\n\n    };\n\n\n\n  mr.components.documentReady.push(mr.newsletters.documentReady);\n  return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Notifications\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.notifications = mr.notifications || {};\n\n    mr.notifications.documentReady = function($){\n        \n        $('.notification').each(function(){\n            var notification = $(this);\n            if(!notification.find('.notification-close').length){\n                notification.append('<div class=\"notification-close-cross notification-close\"></div>');\n            }\n        });\n    \n\n        $('.notification[data-autoshow]').each(function(){\n            var notification = $(this);\n            var millisecondsDelay = parseInt(notification.attr('data-autoshow'),10);\n\n            // If this notification has a cookie attribute, check to see if a cookie is set, and if so, don't show it.\n            if(typeof notification.attr('data-cookie') !== typeof undefined){\n                if(!mr.cookies.hasItem(notification.attr('data-cookie'))){\n                    mr.notifications.showNotification(notification, millisecondsDelay);\n                }\n            }else{\n                mr.notifications.showNotification(notification, millisecondsDelay);\n            }\n        });\n\n        $('[data-notification-link]:not(.notification)').on('click', function(){\n            var notificationID = jQuery(this).attr('data-notification-link');\n            var notification = $('.notification[data-notification-link=\"'+notificationID+'\"]');\n            jQuery('.notification--reveal').addClass('notification--dismissed');\n            notification.removeClass('notification--dismissed');\n            mr.notifications.showNotification(notification, 0);\n            return false;\n        });\n\n        $('.notification-close').on('click', function(){\n            var closeButton = jQuery(this);\n            // Pass the closeNotification function a reference to the close button\n            mr.notifications.closeNotification(closeButton);\n\n            if(closeButton.attr('href') === '#'){\n                return false;\n            }\n        });\n\n        $('.notification .inner-link').on('click', function(){\n            var notificationLink = jQuery(this).closest('.notification').attr('data-notification-link');\n            mr.notifications.closeNotification(notificationLink);\n        });\n    \n    };\n\n\n    mr.notifications.showNotification = function(notification, millisecondsDelay){\n        var $notification = jQuery(notification),\n            delay         = (typeof millisecondsDelay !== typeof undefined) ? (1*millisecondsDelay) : 0,\n            openEvent     = document.createEvent('Event');\n            \n        setTimeout(function(){\n            openEvent.initEvent('notificationOpened.notifications.mr', true, true);\n            $notification.addClass('notification--reveal').trigger('notificationOpened.notifications.mr').get(0).dispatchEvent(openEvent);\n            $notification.closest('nav').addClass('notification--reveal');\n            if($notification.find('input').length){\n                $notification.find('input').first().focus();\n            }\n            \n\n\n        },delay);\n        // If notification has autohide attribute, set a timeout \n        // for the autohide time plus the original delay time in case notification was called\n        // on page load\n        if(notification.is('[data-autohide]')){\n            var hideDelay = parseInt(notification.attr('data-autohide'),10);\n            setTimeout(function(){\n                mr.notifications.closeNotification(notification);\n            },hideDelay+delay);\n        }\n    };\n\n    mr.notifications.closeNotification = function(notification){\n        var $notification = jQuery(notification),\n            closeEvent    = document.createEvent('Event');\n        notification = $notification.is('.notification') ? \n                       $notification :\n                       $notification.is('.notification-close') ? \n                       $notification.closest('.notification') : \n                       $('.notification[data-notification-link=\"'+notification+'\"]');\n        \n        closeEvent.initEvent('notificationClosed.notifications.mr', true, true);\n        notification.addClass('notification--dismissed').trigger('notificationClosed.notifications.mr').get(0).dispatchEvent(closeEvent);\n        notification.closest('nav').removeClass('notification--reveal');\n\n        // If this notification requires to be closed permanently using a cookie, set the cookie now.\n        if(typeof notification.attr('data-cookie') !== typeof undefined){\n            mr.cookies.setItem(notification.attr('data-cookie'), \"true\", Infinity, '/');\n        }\n    };\n\n    mr.components.documentReady.push(mr.notifications.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Parallax\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.parallax = mr.parallax || {};\n\n    mr.parallax.documentReady = function($){\n        \n        var $window      = $(window); \n        var windowWidth  = $window.width();\n        var windowHeight = $window.height();\n        var navHeight    = $('nav').outerHeight(true);\n\n        if (windowWidth > 768) {\n            var parallaxHero = $('.parallax:nth-of-type(1)'),\n                parallaxHeroImage = $('.parallax:nth-of-type(1) .background-image-holder');\n\n            parallaxHeroImage.css('top', -(navHeight));\n            if(parallaxHero.outerHeight(true) === windowHeight){\n                parallaxHeroImage.css('height', windowHeight + navHeight);\n            }\n        }\n    };     \n    \n    mr.parallax.update = function(){\n        if(typeof mr_parallax !== typeof undefined){\n            mr_parallax.profileParallaxElements();\n            mr_parallax.mr_parallaxBackground();\n        }\n    };\n\n    mr.components.documentReady.push(mr.parallax.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Progress Horizontal (bars)\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.progressHorizontal = mr.progressHorizontal || {};\n\n    mr.progressHorizontal.documentReady = function($){\n\n        var progressBars = [];\n\n        $('.progress-horizontal').each(function(){\n            var bar       = jQuery(this).find('.progress-horizontal__bar'),\n                barObject = {},\n                progress  = jQuery('<div class=\"progress-horizontal__progress\"></div>');\n\n                bar.prepend(progress);\n\n                barObject.element = bar;\n                barObject.progress = progress;\n                barObject.value = parseInt(bar.attr('data-value'),10)+\"%\";\n                barObject.offsetTop = bar.offset().top;\n                barObject.animate = false;\n\n                if(jQuery(this).hasClass('progress-horizontal--animate')){\n                    barObject.animate = true;\n                }else{\n                    progress.css('width',barObject.value);\n                }\n                progressBars.push(barObject);\n        });\n    };\n\n    mr.components.documentReady.push(mr.progressHorizontal.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// EasyPiecharts\nmr = (function (mr, $, window, document){\n\t  \"use strict\";\n\n\t\tmr.easypiecharts = mr.easypiecharts || {};\n\t\tmr.easypiecharts.pies = [];\n\t\tmr.easypiecharts.options = mr.easypiecharts.options || {};\n\n\t\tmr.easypiecharts.documentReady = function($){\n\n\t\t  \t$('.radial').each(function(){\n\t\t  \t\tvar chart              = jQuery(this),\n\t\t  \t\t\t  value              = 0,\n\t\t  \t\t\t  color              = '#000000',\n\t\t  \t\t\t  time               = 2000,\n\t\t  \t\t\t  pieSize            = 110,\n\t\t  \t\t\t  barWidth           = 3,\n\t\t  \t\t\t  defaults           = {},\n\t\t  \t\t\t  attributeOverrides = {},\n\t\t  \t\t\t  options;\n\n\t\t  \t\tdefaults = {\n\t\t  \t\t\tanimate: ({duration: time, enabled: true}),\n\t\t  \t\t\tbarColor: color,\n\t\t  \t\t\tscaleColor: false,\n\t\t  \t\t\tsize: pieSize,\n\t\t  \t\t\tlineWidth: barWidth\n\t\t  \t\t};\n\n\t\t  \t\tif(typeof mr.easypiecharts.options.size !== typeof undefined){\n            pieSize = mr.easypiecharts.options.size;\n\t\t  \t\t}\n\t\t  \t\tif(typeof chart.attr('data-timing') !== typeof undefined){\n\t\t  \t\t\tattributeOverrides.animate = {duration: parseInt(chart.attr('data-timing'), 10), enabled: true};\n\t\t  \t\t}\n\t\t  \t\tif(typeof chart.attr('data-color') !== typeof undefined){\n\t\t  \t\t\tattributeOverrides.barColor = chart.attr('data-color');\n\t\t  \t\t}\n\t\t  \t\tif(typeof chart.attr('data-size') !== typeof undefined){\n\t\t  \t\t\tpieSize = attributeOverrides.size = parseInt(chart.attr('data-size'), 10);\n\t\t  \t\t}\n\t\t  \t\tif(typeof chart.attr('data-bar-width') !== typeof undefined){\n\t\t  \t\t\tattributeOverrides.lineWidth = parseInt(chart.attr('data-bar-width'), 10);\n\t\t  \t\t}\n\n\t\t  \t\tchart.css('height',pieSize).css('width',pieSize);\n\n          \n\n\t\t  \t\tif(typeof mr.easypiecharts.options === 'object'){\n            options = jQuery.extend({}, defaults, mr.easypiecharts.options, attributeOverrides);\n\t\t  \t\t}\n\n\t\t  \t\tchart.easyPieChart(options);\n\t\t  \t\tchart.data('easyPieChart').update(0);\n\t\t  \t});\n\n\t\t  \tif($('.radial').length){\n\t\t  \t\tmr.easypiecharts.init($);\n\t\t  \t\tmr.easypiecharts.activate();\n\t\t  \t\tmr.scroll.listeners.push(mr.easypiecharts.activate);\n\t\t  \t}\n\n\t  };\n\n\t  mr.easypiecharts.init = function($){\n\n\t\t\tmr.easypiecharts.pies = [];\n          \n\t\t\t$('.radial').each(function(){\n\t\t\t  var pieObject  = {},\n\t\t\t\t  currentPie = jQuery(this);\n\n\t\t\t\t  pieObject.element = currentPie;\n\t\t\t\t  pieObject.value = parseInt(currentPie.attr('data-value'),10);\n\t\t\t\t  pieObject.top = currentPie.offset().top;\n\t\t\t\t  pieObject.height = currentPie.height()/2;\n\t\t\t\t  pieObject.active = false;\n\t\t\t\t  mr.easypiecharts.pies.push(pieObject);\n\t\t\t});\n\t\t};\n\n\t\tmr.easypiecharts.activate = function(){\n\t\t\tmr.easypiecharts.pies.forEach(function(pie){\n\t\t\t\tif(Math.round((mr.scroll.y + mr.window.height)) >= Math.round(pie.top+pie.height)){\n\t\t\t\t\tif(pie.active === false){\n\t\t\t\t\t\t\n\t                \tpie.element.data('easyPieChart').enableAnimation();\n\t                \tpie.element.data('easyPieChart').update(pie.value);\n\t                \tpie.element.addClass('radial--active');\n\t                \tpie.active = true;\n\t\t\t\t\t}\n\t            }\n        \t});\n\t\t};\n\n\t  mr.components.documentReadyDeferred.push(mr.easypiecharts.documentReady);\n\t  return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Flickity\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.sliders = mr.sliders || {};\n\n    mr.sliders.documentReady = function($){\n\n        $('.slider').each(function(index){\n            \n            var slider = $(this);\n            var sliderInitializer = slider.find('ul.slides');\n            sliderInitializer.find('>li').addClass('slide');\n            var childnum = sliderInitializer.find('li').length;\n            \n            var themeDefaults = {\n                cellSelector: '.slide',\n                cellAlign: 'left',\n                wrapAround: true,\n                pageDots: false,\n                prevNextButtons: false,\n                autoPlay: true,\n                draggable: (childnum < 2 ? false: true),\n                imagesLoaded: true,\n                accessibility: true,\n                rightToLeft: false,\n                initialIndex: 0,\n                freeScroll: false\n            }; \n\n            // Attribute Overrides - options that are overridden by data attributes on the slider element\n            var ao = {};\n            ao.pageDots = (slider.attr('data-paging') === 'true' && sliderInitializer.find('li').length > 1) ? true : undefined;\n            ao.prevNextButtons = slider.attr('data-arrows') === 'true'? true: undefined;\n            ao.draggable = slider.attr('data-draggable') === 'false'? false : undefined;\n            ao.autoPlay = slider.attr('data-autoplay') === 'false'? false: (slider.attr('data-timing') ? parseInt(slider.attr('data-timing'), 10): undefined);\n            ao.accessibility = slider.attr('data-accessibility') === 'false'? false : undefined;\n            ao.rightToLeft = slider.attr('data-rtl') === 'true'? true : undefined;\n            ao.initialIndex = slider.attr('data-initial') ? parseInt(slider.attr('data-initial'), 10) : undefined;\n            ao.freeScroll = slider.attr('data-freescroll') === \"true\" ? true: undefined;\n\n            // Set data attribute to inidicate the number of children in the slider\n            slider.attr('data-children',childnum);\n\n            \n            $(this).data('sliderOptions', jQuery.extend({}, themeDefaults, mr.sliders.options, ao));\n\n            $(sliderInitializer).flickity($(this).data('sliderOptions'));\n\n            $(sliderInitializer).on( 'scroll.flickity', function( event, progress ) {\n              if(slider.find('.is-selected').hasClass('controls--dark')){\n                slider.addClass('controls--dark');\n              }else{\n                slider.removeClass('controls--dark'); \n              }\n            });\n        });\n\n        if(mr.parallax.update){ mr.parallax.update(); }\n        \n    };\n\n    mr.components.documentReadyDeferred.push(mr.sliders.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Smoothscroll\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.smoothscroll = mr.smoothscroll || {};\n    mr.smoothscroll.sections = [];\n    \n    mr.smoothscroll.init = function(){\n        mr.smoothscroll.sections = [];\n\n       \n\n        $('a.inner-link').each(function(){\n            var sectionObject = {},\n                link          = $(this),\n                href          = link.attr('href'),\n                validLink     = new RegExp('^#[^\\r\\n\\t\\f\\v\\#\\.]+$','gm');\n                            \n            if(validLink.test(href)){\n                \n                if($('section'+href).length){\n\n                    sectionObject.id     = href;\n                    sectionObject.top = Math.round($(href).offset().top);\n                    sectionObject.height = Math.round($(href).outerHeight());\n                    sectionObject.link   = link.get(0);\n                    sectionObject.active = false;\n\n                    mr.smoothscroll.sections.push(sectionObject);\n                }\n            }\n        });\n\n        mr.smoothscroll.highlight();\n    };\n\n    mr.smoothscroll.highlight = function(){\n        mr.smoothscroll.sections.forEach(function(section){\n            if(mr.scroll.y >= section.top && mr.scroll.y < (section.top + section.height)){\n                if(section.active === false){\n                    section.link.classList.add(\"inner-link--active\");\n                    section.active = true;\n                }\n            }else{\n                section.link.classList.remove(\"inner-link--active\");\n                section.active = false;\n            }\n        });\n    };\n\n    mr.scroll.listeners.push(mr.smoothscroll.highlight);\n\n    mr.smoothscroll.documentReady = function($){\n        // Smooth scroll to inner links\n        var innerLinks = $('a.inner-link'), offset, themeDefaults, ao = {};\n\n        themeDefaults = {\n            selector: '.inner-link',\n            selectorHeader: null,\n            speed: 750,\n            easing: 'easeInOutCubic',\n            offset: 0\n        };\n\n        if(innerLinks.length){\n            innerLinks.each(function(index){\n                var link          = $(this),\n                    href          = link.attr('href');\n                if(href.charAt(0) !== \"#\"){\n                    link.removeClass('inner-link');\n                }\n            });\n\n            mr.smoothscroll.init();\n            $(window).on('resize', mr.smoothscroll.init);\n\n            offset = 0;\n            if($('body[data-smooth-scroll-offset]').length){\n                offset = $('body').attr('data-smooth-scroll-offset');\n                offset = offset*1;\n            }\n\n            ao.offset = offset !== 0 ? offset: undefined; \n            \n            smoothScroll.init(jQuery.extend({}, themeDefaults, mr.smoothscroll.options, ao));\n        }\n    };\n\n    mr.components.documentReady.push(mr.smoothscroll.documentReady);\n    mr.components.windowLoad.push(mr.smoothscroll.init);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Tabs\nmr = (function (mr, $, window, document){\n    \"use strict\";\n\n    mr.tabs = mr.tabs || {};\n    \n    mr.tabs.documentReady = function($){\n        $('.tabs').each(function(){\n            var tabs = $(this);\n            tabs.after('<ul class=\"tabs-content\">');\n            tabs.find('li').each(function(){\n                var currentTab      = $(this),\n                    tabContent      = currentTab.find('.tab__content').wrap('<li></li>').parent(),\n                    tabContentClone = tabContent.clone(true,true);\n                tabContent.remove();\n                currentTab.closest('.tabs-container').find('.tabs-content').append(tabContentClone);\n            });\n        });\n        \n        $('.tabs > li').on('click', function(){\n            var clickedTab = $(this), hash;\n            mr.tabs.activateTab(clickedTab);\n\n            // Update the URL bar if the currently clicked tab has an ID\n            if(clickedTab.is('[id]')){\n                // Create the hash from the tab's ID\n                hash = '#'+ clickedTab.attr('id');\n                // Check we are in a newish browser with the history API\n                if(history.pushState) {\n                    history.pushState(null, null, hash);\n                }\n                else {\n                    location.hash = hash;\n                }\n            }\n        });\n\n        $('.tabs li.active').each(function(){\n            mr.tabs.activateTab(this);\n        });\n\n        if(window.location.hash !== ''){\n            mr.tabs.activateTabById(window.location.hash);\n        }\n\n        $('a[href^=\"#\"]').on('click', function(){\n            mr.tabs.activateTabById($(this).attr('href'));\n        });\n\n    };\n\n    mr.tabs.activateTab = function(tab){\n        var clickedTab    = $(tab),\n            tabContainer  = clickedTab.closest('.tabs-container'),\n            activeIndex   = (clickedTab.index()*1)+(1),\n            activeContent = tabContainer.find('> .tabs-content > li:nth-of-type('+activeIndex+')'),\n            openEvent     = document.createEvent('Event'),\n            iframe, radial;\n\n            openEvent.initEvent('tabOpened.tabs.mr', true, true);\n\n\n        tabContainer.find('> .tabs > li').removeClass('active');\n        tabContainer.find('> .tabs-content > li').removeClass('active');\n        \n        clickedTab.addClass('active').trigger('tabOpened.tabs.mr').get(0).dispatchEvent(openEvent);\n        activeContent.addClass('active');\n\n        \n\n        // If there is an <iframe> element in the tab, reload its content when the tab is made active.\n        iframe = activeContent.find('iframe');\n        if(iframe.length){\n            iframe.attr('src', iframe.attr('src'));\n        }\n    };\n\n\n\n    mr.tabs.activateTabById = function(id){\n        if(id !== '' && id !== '#' && id.match(/#\\/.*/) === null){\n            if($('.tabs > li#'+id.replace('#', '')).length){\n                $('.tabs > li#'+id.replace('#', '')).click();\n            }\n        }\n    };\n\n    mr.components.documentReady.push(mr.tabs.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Toggle Class\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.toggleClass = mr.toggleClass || {};\n    \n    mr.toggleClass.documentReady = function($){\n        $('[data-toggle-class]').each(function(){\n        \tvar element = $(this),\n                data    = element.attr('data-toggle-class').split(\"|\");\n        \t\t\n\n            $(data).each(function(){\n                var candidate     = element,\n                    dataArray     = [],\n            \t    toggleClass   = '',\n            \t    toggleElement = '',\n                    dataArray = this.split(\";\");\n\n            \tif(dataArray.length === 2){\n            \t\ttoggleElement = dataArray[0];\n            \t\ttoggleClass   = dataArray[1];\n            \t\t$(candidate).on('click',function(){\n                        if(!candidate.hasClass('toggled-class')){\n                            candidate.toggleClass('toggled-class');\n                        }else{\n                            candidate.removeClass('toggled-class');\n                        }\n            \t\t\t$(toggleElement).toggleClass(toggleClass);\n            \t\t\treturn false;\n            \t\t});\n            \t}else{\n            \t\tconsole.log('Error in [data-toggle-class] attribute. This attribute accepts an element, or comma separated elements terminated witha \";\" followed by a class name to toggle');\n            \t}\n            });\n        });\n    };\n\n    mr.components.documentReady.push(mr.toggleClass.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Typed Headline Effect\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.typed = mr.typed || {};\n    \n\n    mr.typed.documentReady = function($){\n        $('.typed-text').each(function(){\n            var text = $(this);\n            var strings = text.attr(\"data-typed-strings\") ? text.attr(\"data-typed-strings\").split(\",\") : [],\n                themeDefaults = {\n                    strings: [],\n                    typeSpeed: 100,\n                    loop: true,\n                    showCursor: false\n                }, ao = {};\n\n            ao.strings = text.attr(\"data-typed-strings\") ? text.attr(\"data-typed-strings\").split(\",\") : undefined;\n\n            $(text).typed(jQuery.extend({}, themeDefaults, mr.typed.options, ao));\n            \n        });\n    };\n\n    mr.components.documentReady.push(mr.typed.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Twitter Feeds\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.twitter = mr.twitter || {};\n    mr.twitter.options = mr.twitter.options || {};\n\n    mr.twitter.documentReady = function($){\n        $('.tweets-feed').each(function(index) {\n            $(this).attr('id', 'tweets-' + index);\n        }).each(function(index) {\n            var element = $('#tweets-' + index);\n            \n            var TweetConfig = {\n               \"domId\": '',\n               \"maxTweets\": 6,\n               \"enableLinks\": true,\n               \"showUser\": true,\n               \"showTime\": true,\n               \"dateFunction\": '',\n               \"showRetweet\": false,\n               \"customCallback\": handleTweets\n            };\n\n            TweetConfig = jQuery.extend(TweetConfig, mr.twitter.options);\n           \n\n\n            if(typeof element.attr('data-widget-id') !== typeof undefined){\n                TweetConfig.id = element.attr('data-widget-id');\n            }else if(typeof element.attr('data-feed-name') !== typeof undefined && element.attr('data-feed-name') !== \"\"){\n                TweetConfig.profile = {\"screenName\": element.attr('data-feed-name').replace('@', '')};\n            }else if(typeof mr.twitter.options.profile !== typeof undefined){\n                TweetConfig.profile = {\"screenName\": mr.twitter.options.profile.replace('@', '')};\n            }else{\n                TweetConfig.profile = {\"screenName\": 'twitter'};\n            }\n\n            TweetConfig.maxTweets = element.attr('data-amount') ? element.attr('data-amount'): TweetConfig.maxTweets; \n\n            if(element.closest('.twitter-feed--slider').length){\n                element.addClass('slider');\n            }\n\n            function handleTweets(tweets) {\n                var x = tweets.length;\n                var n = 0;\n                var html = '<ul class=\"slides\">';\n                while (n < x) {\n                    html += '<li>' + tweets[n] + '</li>';\n                    n++;\n                }\n                html += '</ul>';\n                element.html(html);\n                \n                // Initialize twitter feed slider\n                if(element.closest('.slider').length){\n                    mr.sliders.documentReady(mr.setContext());\n                     \n                    return html;\n                }\n            }\n            twitterFetcher.fetch(TweetConfig);\n        });\n    };\n\n    mr.components.documentReady.push(mr.twitter.documentReady);\n    return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Video\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.video = mr.video || {};\n    mr.video.options = mr.video.options || {};\n    mr.video.options.ytplayer = mr.video.options.ytplayer || {};\n    \n\t  mr.video.documentReady = function($){\n\t      \n\t\t\t//////////////// Youtube Background\n\n\t\t\tif($('.youtube-background').length){\n\t\t\t\t$('.youtube-background').each(function(){\n\n\n\t\t\t\t\tvar player = $(this),\n\t\t\t\t\t\n\t\t\t\t\tthemeDefaults = {\n\t\t\t\t\t\tcontainment: \"self\",\n\t\t\t\t\t\tautoPlay: true,\n\t\t\t\t\t\tmute: true,\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}, ao = {};\n\n          // Attribute overrides - provides overrides to the global options on a per-video basis\n\t\t\t\t\tao.videoURL = $(this).attr('data-video-url');\n\t\t\t\t\tao.startAt = $(this).attr('data-start-at')? parseInt($(this).attr('data-start-at'), 10): undefined;\n\n\n\t\t\t\t\tplayer.closest('.videobg').append('<div class=\"loading-indicator\"></div>');\n\t\t\t\t\tplayer.YTPlayer(jQuery.extend({}, themeDefaults, mr.video.options.ytplayer, ao));\n\t\t\t\t\tplayer.on(\"YTPStart\",function(){\n\t\t\t\t  \t\tplayer.closest('.videobg').addClass('video-active');\n\t\t\t\t\t});\t\n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif($('.videobg').find('video').length){\n\t\t\t\t$('.videobg').find('video').closest('.videobg').addClass('video-active');\n\t\t\t} \n\n\t\t\t//////////////// Video Cover Play Icons\n\n\t\t\t$('.video-cover').each(function(){\n\t\t\t    var videoCover = $(this);\n\t\t\t    if(videoCover.find('iframe[src]').length){\n\t\t\t        videoCover.find('iframe').attr('data-src', videoCover.find('iframe').attr('src'));\n\t\t\t        videoCover.find('iframe').attr('src','');\n\t\t\t    }\n\t\t\t});\n\n\t\t\t$('.video-cover .video-play-icon').on(\"click\", function(){\n\t\t\t    var playIcon = $(this);\n\t\t\t    var videoCover = playIcon.closest('.video-cover');\n\t\t\t    if(videoCover.find('video').length){\n\t\t\t        var video = videoCover.find('video').get(0);\n\t\t\t        videoCover.addClass('reveal-video');\n\t\t\t        video.play();\n\t\t\t        return false;\n\t\t\t    }else if(videoCover.find('iframe').length){\n\t\t\t        var iframe = videoCover.find('iframe');\n\t\t\t        iframe.attr('src',iframe.attr('data-src'));\n\t\t\t        videoCover.addClass('reveal-video');\n\t\t\t        return false;\n\t\t\t    }\n\t\t\t});\n\t  };\n\n\t  mr.components.documentReady.push(mr.video.documentReady);\n\t  return mr;\n\n}(mr, jQuery, window, document));\n\n//////////////// Wizard\nmr = (function (mr, $, window, document){\n    \"use strict\";\n    \n    mr.wizard = mr.wizard || {};\n\n\t  mr.wizard.documentReady = function($){\n\n\t\t\t$('.wizard').each(function(){\n\t\t\t\tvar wizard = jQuery(this), themeDefaults = {};\n \n        themeDefaults = {\n\t\t\t\t\theaderTag: \"h5\",\n\t\t\t\t  bodyTag: \"section\",\n\t\t\t\t\ttransitionEffect: \"slideLeft\",\n\t\t\t\t\tautoFocus: true\n\t\t\t\t}      \n\t\t\t\t\n\n\t\t\t\tif(!wizard.is('[role=\"application\"][id^=\"steps-uid\"]')){  \t\n\t\t\t\t\t\twizard.steps(jQuery.extend({}, themeDefaults, mr.wizard.options));\n\t\t\n\t\t   \t    wizard.addClass('active');\n\t\t    }\n\t\t\t\t\n\t\t  });\n\t\t};\n\n\t  mr.components.documentReady.push(mr.wizard.documentReady);\n\t  return mr;\n\n}(mr, jQuery, window, document));","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}